{
    "info": {
        "_postman_id": "a1b2c3d4-5e6f-7890-1234-567890abcdef",
        "name": "GADMCE - Expediente Digital - Contracts API",
        "description": "Colecci√≥n de endpoints para la gesti√≥n de contratos del m√≥dulo de Expediente Digital\n\n**GADM Cant√≥n Esmeraldas - Sistema de Contrataci√≥n P√∫blica**\n\n## Funcionalidades incluidas:\n- ‚úÖ CRUD de contratos\n- ‚úÖ Gesti√≥n de fases y estados\n- ‚úÖ Documentos del contrato\n- ‚úÖ Operaciones masivas\n- ‚úÖ Reportes y estad√≠sticas\n- ‚úÖ Dashboard y acciones pendientes\n- ‚úÖ Archivado y duplicaci√≥n\n\n## Variables necesarias:\n- `{{base_url}}`: URL base del API\n- `{{auth_token}}`: Token JWT de autenticaci√≥n\n- `{{contract_id}}`: ID del contrato para operaciones espec√≠ficas\n- `{{department_id}}`: ID del departamento\n\n## Tipos de contrataci√≥n LOSNCP:\n- Procedimientos comunes: Subasta Inversa, Licitaci√≥n, Cotizaci√≥n, Menor Cuant√≠a\n- Procedimientos especiales: Emergencia, R√©gimen Especial, Cat√°logo Electr√≥nico",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "üìã Gesti√≥n CRUD de Contratos",
            "item": [
                {
                    "name": "‚ûï Crear nuevo contrato",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"contractualObject\": \"Adquisici√≥n de equipos inform√°ticos para modernizaci√≥n administrativa\",\n    \"contractType\": \"COTIZACION\",\n    \"requestingDepartment\": \"{{department_id}}\",\n    \"budget\": {\n        \"amount\": 85000.00,\n        \"currency\": \"USD\",\n        \"budgetCode\": \"530801\",\n        \"budgetYear\": 2025,\n        \"hasPresupuestaryAvailability\": true\n    },\n    \"basicInfo\": {\n        \"processNumber\": \"GADMCE-COT-001-2025\",\n        \"processType\": \"BIENES\",\n        \"description\": \"Proceso de cotizaci√≥n para la adquisici√≥n de 50 computadoras de escritorio, 10 laptops y 5 impresoras multifuncionales para las diferentes dependencias del GADM Cant√≥n Esmeraldas\",\n        \"technicalSpecifications\": \"Equipos con procesador Intel i5 o superior, 8GB RAM m√≠nimo, disco SSD 256GB, Windows 11 Pro licenciado\",\n        \"deliveryLocation\": \"Instalaciones del GADM Cant√≥n Esmeraldas - Malec√≥n y 10 de Agosto\",\n        \"deliveryTerm\": \"30 d√≠as calendario\",\n        \"warranty\": \"24 meses\"\n    },\n    \"participants\": {\n        \"responsibleUser\": \"{{user_id}}\",\n        \"technicalTeam\": [\n            {\n                \"userId\": \"64f7e8b123456789abcdef04\",\n                \"role\": \"TECHNICAL_SUPERVISOR\",\n                \"name\": \"Ing. Mar√≠a Rodr√≠guez\"\n            },\n            {\n                \"userId\": \"64f7e8b123456789abcdef05\",\n                \"role\": \"ADMINISTRATIVE_SUPERVISOR\",\n                \"name\": \"Dr. Carlos Mendoza\"\n            }\n        ]\n    },\n    \"timeline\": {\n        \"expectedStartDate\": \"2025-09-15T00:00:00.000Z\",\n        \"expectedEndDate\": \"2025-12-15T00:00:00.000Z\",\n        \"criticalMilestones\": [\n            {\n                \"phase\": \"PRECONTRACTUAL\",\n                \"description\": \"Publicaci√≥n de pliegos\",\n                \"expectedDate\": \"2025-09-20T00:00:00.000Z\"\n            },\n            {\n                \"phase\": \"PRECONTRACTUAL\",\n                \"description\": \"Recepci√≥n de ofertas\",\n                \"expectedDate\": \"2025-10-05T00:00:00.000Z\"\n            }\n        ]\n    },\n    \"metadata\": {\n        \"priority\": \"MEDIUM\",\n        \"tags\": [\"equipos\", \"informatica\", \"modernizacion\", \"cotizacion\"],\n        \"customFields\": {\n            \"environmentalImpact\": \"BAJO\",\n            \"socialImpact\": \"MEDIO\",\n            \"strategicImportance\": \"ALTA\"\n        }\n    }\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts"
                            ]
                        },
                        "description": "**Crear nuevo contrato**\n\n**Permisos requeridos:** `contracts.canCreate`\n\n**Validaciones autom√°ticas:**\n- Disponibilidad presupuestaria (PAC)\n- Tipo de contrataci√≥n seg√∫n monto (LOSNCP)\n- Departamento autorizado\n- Datos obligatorios seg√∫n tipo\n\n**Estado inicial:** `PREPARATORIA`\n**Fase inicial:** `PREPARATORIA`\n\n**Campos requeridos:**\n- `contractualObject`: Objeto contractual\n- `contractType`: Tipo seg√∫n LOSNCP\n- `requestingDepartment`: Departamento solicitante\n- `budget.amount`: Monto presupuestado\n- `responsibleUser`: Usuario responsable"
                    },
                    "response": [
                        {
                            "name": "‚úÖ Contrato creado exitosamente",
                            "originalRequest": {
                                "method": "POST",
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"contractualObject\": \"Adquisici√≥n de equipos inform√°ticos\",\n    \"contractType\": \"COTIZACION\"\n}"
                                }
                            },
                            "status": "Created",
                            "code": 201,
                            "_postman_previewlanguage": "json",
                            "header": [],
                            "cookie": [],
                            "body": "{\n    \"success\": true,\n    \"message\": \"Contrato creado exitosamente\",\n    \"data\": {\n        \"_id\": \"64f7e8b123456789abcdef99\",\n        \"processNumber\": \"GADMCE-COT-001-2025\",\n        \"contractualObject\": \"Adquisici√≥n de equipos inform√°ticos para modernizaci√≥n administrativa\",\n        \"currentPhase\": \"PREPARATORIA\",\n        \"currentStatus\": \"DRAFT\",\n        \"createdAt\": \"2025-09-01T10:00:00.000Z\",\n        \"createdBy\": \"64f7e8b123456789abcdef02\",\n        \"budget\": {\n            \"amount\": 85000.00,\n            \"currency\": \"USD\"\n        }\n    }\n}"
                        }
                    ]
                },
                {
                    "name": "üìÑ Listar contratos",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts?page=1&limit=20&phase=PREPARATORIA&status=ACTIVE&department={{department_id}}&sortBy=createdAt&sortOrder=desc",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1",
                                    "description": "P√°gina actual"
                                },
                                {
                                    "key": "limit",
                                    "value": "20",
                                    "description": "Elementos por p√°gina"
                                },
                                {
                                    "key": "phase",
                                    "value": "PREPARATORIA",
                                    "description": "Filtro por fase: PREPARATORIA, PRECONTRACTUAL, CONTRACTUAL, PAGO, RECEPCION"
                                },
                                {
                                    "key": "status",
                                    "value": "ACTIVE",
                                    "description": "Filtro por estado: DRAFT, ACTIVE, SUSPENDED, COMPLETED, CANCELLED"
                                },
                                {
                                    "key": "contractType",
                                    "value": "COTIZACION",
                                    "description": "Tipo de contrataci√≥n",
                                    "disabled": true
                                },
                                {
                                    "key": "department",
                                    "value": "{{department_id}}",
                                    "description": "Departamento solicitante"
                                },
                                {
                                    "key": "responsibleUser",
                                    "value": "{{user_id}}",
                                    "description": "Usuario responsable",
                                    "disabled": true
                                },
                                {
                                    "key": "budgetRange",
                                    "value": "10000-100000",
                                    "description": "Rango presupuestario",
                                    "disabled": true
                                },
                                {
                                    "key": "dateFrom",
                                    "value": "2025-01-01",
                                    "description": "Fecha desde (YYYY-MM-DD)",
                                    "disabled": true
                                },
                                {
                                    "key": "dateTo",
                                    "value": "2025-12-31",
                                    "description": "Fecha hasta (YYYY-MM-DD)",
                                    "disabled": true
                                },
                                {
                                    "key": "searchTerm",
                                    "value": "equipos inform√°ticos",
                                    "description": "B√∫squeda en objeto contractual",
                                    "disabled": true
                                },
                                {
                                    "key": "tags",
                                    "value": "equipos,informatica",
                                    "description": "Filtro por tags",
                                    "disabled": true
                                },
                                {
                                    "key": "sortBy",
                                    "value": "createdAt",
                                    "description": "Campo de ordenamiento"
                                },
                                {
                                    "key": "sortOrder",
                                    "value": "desc",
                                    "description": "Orden: asc, desc"
                                }
                            ]
                        },
                        "description": "**Obtener lista de contratos con filtros**\n\n**Permisos requeridos:** `contracts.canViewOwn/canViewDepartment/canViewAll`\n\n**Control de acceso:**\n- Los usuarios ven solo sus contratos asignados\n- Supervisores ven contratos del departamento\n- Administradores ven todos los contratos\n\n**Filtros disponibles:**\n- `phase`: Fase actual del contrato\n- `status`: Estado del contrato\n- `contractType`: Tipo seg√∫n LOSNCP\n- `department`: Departamento solicitante\n- `budgetRange`: Rango presupuestario\n- `dateFrom/dateTo`: Rango de fechas\n- `searchTerm`: B√∫squeda en texto\n\n**Ordenamiento:**\n- `sortBy`: createdAt, budget, processNumber, phase\n- `sortOrder`: asc, desc"
                    },
                    "response": []
                },
                {
                    "name": "üîç Obtener contrato por ID",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/{{contract_id}}?includeDocuments=true&includeHistory=true&includeParticipants=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "{{contract_id}}"
                            ],
                            "query": [
                                {
                                    "key": "includeDocuments",
                                    "value": "true",
                                    "description": "Incluir documentos asociados"
                                },
                                {
                                    "key": "includeHistory",
                                    "value": "true",
                                    "description": "Incluir historial de cambios"
                                },
                                {
                                    "key": "includeParticipants",
                                    "value": "true",
                                    "description": "Incluir participantes y equipo t√©cnico"
                                },
                                {
                                    "key": "includeTimeline",
                                    "value": "false",
                                    "description": "Incluir cronograma detallado",
                                    "disabled": true
                                }
                            ]
                        },
                        "description": "**Obtener contrato espec√≠fico con detalles completos**\n\n**Permisos requeridos:** `contracts.canViewOwn/canViewDepartment/canViewAll` + acceso al contrato\n\n**Control de acceso:**\n- Validaci√≥n de permisos por departamento\n- Verificaci√≥n de propiedad del contrato\n- Logs de auditor√≠a autom√°ticos\n\n**Informaci√≥n incluida:**\n- Datos b√°sicos del contrato\n- Estado y fase actual\n- Historial de transiciones\n- Documentos asociados por fase\n- Participantes y responsables\n- Cronograma y hitos\n- Presupuesto y pagos\n- Metadatos y campos personalizados"
                    },
                    "response": []
                },
                {
                    "name": "‚úèÔ∏è Actualizar contrato",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"contractualObject\": \"Adquisici√≥n de equipos inform√°ticos y mobiliario para modernizaci√≥n administrativa\",\n    \"basicInfo\": {\n        \"description\": \"Proceso actualizado de cotizaci√≥n para la adquisici√≥n de 50 computadoras de escritorio, 10 laptops, 5 impresoras multifuncionales y mobiliario de oficina para las diferentes dependencias del GADM Cant√≥n Esmeraldas\",\n        \"technicalSpecifications\": \"Equipos con procesador Intel i5 de 11va generaci√≥n o superior, 16GB RAM, disco SSD 512GB, Windows 11 Pro licenciado. Mobiliario ergon√≥mico con certificaci√≥n ISO.\",\n        \"deliveryTerm\": \"45 d√≠as calendario\",\n        \"warranty\": \"36 meses para equipos, 12 meses para mobiliario\"\n    },\n    \"budget\": {\n        \"amount\": 95000.00,\n        \"currency\": \"USD\",\n        \"budgetCode\": \"530801\",\n        \"budgetYear\": 2025,\n        \"hasPresupuestaryAvailability\": true,\n        \"adjustmentReason\": \"Inclusi√≥n de mobiliario y mejora en especificaciones t√©cnicas\"\n    },\n    \"participants\": {\n        \"technicalTeam\": [\n            {\n                \"userId\": \"64f7e8b123456789abcdef04\",\n                \"role\": \"TECHNICAL_SUPERVISOR\",\n                \"name\": \"Ing. Mar√≠a Rodr√≠guez\"\n            },\n            {\n                \"userId\": \"64f7e8b123456789abcdef05\",\n                \"role\": \"ADMINISTRATIVE_SUPERVISOR\",\n                \"name\": \"Dr. Carlos Mendoza\"\n            },\n            {\n                \"userId\": \"64f7e8b123456789abcdef06\",\n                \"role\": \"LEGAL_ADVISOR\",\n                \"name\": \"Ab. Ana Garc√≠a\"\n            }\n        ]\n    },\n    \"timeline\": {\n        \"expectedStartDate\": \"2025-09-20T00:00:00.000Z\",\n        \"expectedEndDate\": \"2025-12-30T00:00:00.000Z\",\n        \"criticalMilestones\": [\n            {\n                \"phase\": \"PRECONTRACTUAL\",\n                \"description\": \"Publicaci√≥n de pliegos actualizados\",\n                \"expectedDate\": \"2025-09-25T00:00:00.000Z\"\n            },\n            {\n                \"phase\": \"PRECONTRACTUAL\",\n                \"description\": \"Recepci√≥n de ofertas\",\n                \"expectedDate\": \"2025-10-10T00:00:00.000Z\"\n            },\n            {\n                \"phase\": \"PRECONTRACTUAL\",\n                \"description\": \"Evaluaci√≥n y adjudicaci√≥n\",\n                \"expectedDate\": \"2025-10-25T00:00:00.000Z\"\n            }\n        ]\n    },\n    \"metadata\": {\n        \"priority\": \"HIGH\",\n        \"tags\": [\"equipos\", \"informatica\", \"mobiliario\", \"modernizacion\", \"cotizacion\"],\n        \"customFields\": {\n            \"environmentalImpact\": \"MEDIO\",\n            \"socialImpact\": \"ALTO\",\n            \"strategicImportance\": \"ALTA\",\n            \"urgency\": \"MEDIUM\"\n        }\n    },\n    \"updateReason\": \"Ampliaci√≥n del alcance del contrato para incluir mobiliario y mejoras en especificaciones t√©cnicas seg√∫n requerimientos actualizados de los departamentos usuario.\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/{{contract_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "{{contract_id}}"
                            ]
                        },
                        "description": "**Actualizar contrato existente**\n\n**Permisos requeridos:** `contracts.canEdit` + propiedad del contrato\n\n**Validaciones:**\n- El contrato debe estar en fase que permita modificaciones\n- Validaci√≥n de disponibilidad presupuestaria si cambia monto\n- Verificaci√≥n de permisos del usuario\n- Registro autom√°tico de cambios en historial\n\n**Campos actualizables por fase:**\n- **PREPARATORIA**: Todos los campos\n- **PRECONTRACTUAL**: Limitado a correcciones\n- **CONTRACTUAL**: Solo campos administrativos\n- **PAGO/RECEPCION**: Solo metadatos\n\n**Registro de auditor√≠a:**\n- Usuario que realiz√≥ el cambio\n- Fecha y hora de modificaci√≥n\n- Campos modificados (diff)\n- Raz√≥n del cambio"
                    },
                    "response": []
                },
                {
                    "name": "üóëÔ∏è Eliminar contrato",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"reason\": \"Contrato duplicado por error, se mantiene proceso GADMCE-COT-002-2025\",\n    \"deleteType\": \"SOFT\",\n    \"notifyParticipants\": true,\n    \"archiveDocuments\": true\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/{{contract_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "{{contract_id}}"
                            ]
                        },
                        "description": "**Eliminar contrato (soft delete)**\n\n**Permisos requeridos:** `contracts.canDelete` + validaciones adicionales\n\n**Validaciones:**\n- El contrato debe estar en fase PREPARATORIA o DRAFT\n- No debe tener documentos cr√≠ticos asociados\n- No debe tener compromisos presupuestarios ejecutados\n- Debe especificar raz√≥n de eliminaci√≥n\n\n**Tipos de eliminaci√≥n:**\n- **SOFT (default)**: Marca como eliminado, preserva datos\n- **HARD**: Eliminaci√≥n f√≠sica (solo administradores)\n\n**Proceso de eliminaci√≥n:**\n1. Validaci√≥n de permisos y estado\n2. Notificaci√≥n a participantes\n3. Archivado de documentos asociados\n4. Registro en auditor√≠a\n5. Liberaci√≥n de presupuesto asignado\n\n**‚ö†Ô∏è PRECAUCI√ìN:** Esta acci√≥n es irreversible para eliminaci√≥n HARD"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "üîÑ Gesti√≥n de Fases y Estados",
            "item": [
                {
                    "name": "‚ÜóÔ∏è Cambiar fase del contrato",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"newPhase\": \"PRECONTRACTUAL\",\n    \"reason\": \"Completada la fase preparatoria con todos los documentos requeridos. Se procede a la fase precontractual para la publicaci√≥n de pliegos.\",\n    \"validations\": {\n        \"checkRequiredDocuments\": true,\n        \"checkBudgetAvailability\": true,\n        \"checkTeamAssignment\": true,\n        \"checkApprovals\": true\n    },\n    \"documents\": [\n        {\n            \"fileId\": \"64f7e8b123456789abcdef01\",\n            \"documentType\": \"PAC\",\n            \"description\": \"Certificaci√≥n presupuestaria aprobada\"\n        },\n        {\n            \"fileId\": \"64f7e8b123456789abcdef02\",\n            \"documentType\": \"TDR\",\n            \"description\": \"T√©rminos de referencia finalizados\"\n        },\n        {\n            \"fileId\": \"64f7e8b123456789abcdef03\",\n            \"documentType\": \"RESOLUCION_INICIO\",\n            \"description\": \"Resoluci√≥n de inicio del proceso\"\n        }\n    ],\n    \"nextPhaseSettings\": {\n        \"expectedDuration\": 30,\n        \"responsibleUser\": \"64f7e8b123456789abcdef05\",\n        \"priorityLevel\": \"HIGH\",\n        \"notifications\": {\n            \"emailReminders\": true,\n            \"deadlineAlerts\": true,\n            \"stakeholderUpdates\": true\n        }\n    },\n    \"approvals\": [\n        {\n            \"userId\": \"64f7e8b123456789abcdef04\",\n            \"role\": \"TECHNICAL_SUPERVISOR\",\n            \"approved\": true,\n            \"approvalDate\": \"2025-09-01T09:00:00.000Z\",\n            \"comments\": \"Especificaciones t√©cnicas validadas\"\n        },\n        {\n            \"userId\": \"64f7e8b123456789abcdef05\",\n            \"role\": \"ADMINISTRATIVE_SUPERVISOR\",\n            \"approved\": true,\n            \"approvalDate\": \"2025-09-01T10:00:00.000Z\",\n            \"comments\": \"Documentaci√≥n administrativa completa\"\n        }\n    ]\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/{{contract_id}}/phase",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "{{contract_id}}",
                                "phase"
                            ]
                        },
                        "description": "**Cambiar fase del contrato**\n\n**Permisos requeridos:** `contracts.canEdit` + validaciones espec√≠ficas por fase\n\n**Fases del proceso LOSNCP:**\n1. **PREPARATORIA**: PAC, TDR, estudios, resoluciones\n2. **PRECONTRACTUAL**: Pliegos, ofertas, evaluaci√≥n, adjudicaci√≥n\n3. **CONTRACTUAL**: Ejecuci√≥n, seguimiento, control\n4. **PAGO**: Facturaci√≥n, validaci√≥n, pagos\n5. **RECEPCI√ìN**: Entrega, liquidaci√≥n, cierre\n\n**Validaciones autom√°ticas:**\n- Documentos requeridos para la fase\n- Aprobaciones necesarias\n- Disponibilidad presupuestaria\n- Asignaci√≥n de equipo t√©cnico\n- Cumplimiento de plazos\n\n**Proceso de transici√≥n:**\n1. Validaci√≥n de prerrequisitos\n2. Verificaci√≥n de documentos\n3. Confirmaci√≥n de aprobaciones\n4. Actualizaci√≥n de estado\n5. Notificaciones autom√°ticas\n6. Activaci√≥n de siguiente fase"
                    },
                    "response": []
                },
                {
                    "name": "üîÑ Cambiar estado del contrato",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"newStatus\": \"ACTIVE\",\n    \"reason\": \"Activaci√≥n del proceso tras completar la documentaci√≥n preparatoria y obtener las aprobaciones requeridas.\",\n    \"effectiveDate\": \"2025-09-01T12:00:00.000Z\",\n    \"notifications\": {\n        \"notifyTeam\": true,\n        \"notifyDepartment\": true,\n        \"notifyStakeholders\": false,\n        \"customMessage\": \"El proceso GADMCE-COT-001-2025 ha sido activado y se encuentra en fase precontractual.\"\n    },\n    \"statusSettings\": {\n        \"allowModifications\": true,\n        \"requireApprovalForChanges\": true,\n        \"enableAutomaticReminders\": true,\n        \"escalationRules\": {\n            \"enabled\": true,\n            \"escalateAfterDays\": 5,\n            \"escalateTo\": \"64f7e8b123456789abcdef07\"\n        }\n    },\n    \"additionalData\": {\n        \"activationChecklist\": [\n            {\n                \"item\": \"Documentaci√≥n completa\",\n                \"completed\": true,\n                \"completedBy\": \"64f7e8b123456789abcdef02\",\n                \"completedAt\": \"2025-09-01T11:30:00.000Z\"\n            },\n            {\n                \"item\": \"Aprobaciones obtenidas\",\n                \"completed\": true,\n                \"completedBy\": \"64f7e8b123456789abcdef04\",\n                \"completedAt\": \"2025-09-01T11:45:00.000Z\"\n            },\n            {\n                \"item\": \"Presupuesto validado\",\n                \"completed\": true,\n                \"completedBy\": \"64f7e8b123456789abcdef05\",\n                \"completedAt\": \"2025-09-01T11:50:00.000Z\"\n            }\n        ]\n    }\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/{{contract_id}}/status",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "{{contract_id}}",
                                "status"
                            ]
                        },
                        "description": "**Cambiar estado del contrato**\n\n**Permisos requeridos:** `contracts.canEdit` + validaciones espec√≠ficas por estado\n\n**Estados disponibles:**\n- **DRAFT**: Borrador, en preparaci√≥n\n- **ACTIVE**: Activo, en proceso\n- **SUSPENDED**: Suspendido temporalmente\n- **COMPLETED**: Completado exitosamente\n- **CANCELLED**: Cancelado o anulado\n- **ON_HOLD**: En espera por dependencias externas\n\n**Transiciones v√°lidas:**\n- DRAFT ‚Üí ACTIVE (activaci√≥n)\n- ACTIVE ‚Üí SUSPENDED (suspensi√≥n temporal)\n- SUSPENDED ‚Üí ACTIVE (reactivaci√≥n)\n- ACTIVE ‚Üí COMPLETED (finalizaci√≥n exitosa)\n- ACTIVE ‚Üí CANCELLED (cancelaci√≥n)\n- DRAFT ‚Üí CANCELLED (cancelaci√≥n en borrador)\n\n**Validaciones por transici√≥n:**\n- Documentos requeridos\n- Permisos espec√≠ficos\n- Estado de la fase actual\n- Dependencias del proceso"
                    },
                    "response": []
                },
                {
                    "name": "üìã Historial de fases",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/{{contract_id}}/phases?includeDocuments=true&includeApprovals=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "{{contract_id}}",
                                "phases"
                            ],
                            "query": [
                                {
                                    "key": "includeDocuments",
                                    "value": "true",
                                    "description": "Incluir documentos asociados a cada fase"
                                },
                                {
                                    "key": "includeApprovals",
                                    "value": "true",
                                    "description": "Incluir aprobaciones por fase"
                                },
                                {
                                    "key": "includeTimestamps",
                                    "value": "false",
                                    "description": "Incluir timestamps detallados",
                                    "disabled": true
                                }
                            ]
                        },
                        "description": "**Obtener historial completo de fases**\n\n**Permisos requeridos:** `contracts.canViewOwn/canViewDepartment/canViewAll` + acceso al contrato\n\n**Informaci√≥n incluida:**\n- Secuencia cronol√≥gica de fases\n- Fechas de transici√≥n\n- Usuario responsable de cada cambio\n- Documentos asociados por fase\n- Aprobaciones y validaciones\n- Tiempo transcurrido en cada fase\n- Observaciones y comentarios\n\n**√ötil para:**\n- Auditor√≠a del proceso\n- Seguimiento de cumplimiento\n- Identificaci√≥n de cuellos de botella\n- Reportes de gesti√≥n\n- An√°lisis de eficiencia"
                    },
                    "response": []
                },
                {
                    "name": "üîÄ Transiciones disponibles",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/{{contract_id}}/transitions",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "{{contract_id}}",
                                "transitions"
                            ]
                        },
                        "description": "**Obtener transiciones de fase/estado disponibles**\n\n**Permisos requeridos:** `contracts.canViewOwn/canViewDepartment/canViewAll` + acceso al contrato\n\n**Informaci√≥n incluida:**\n- Fases siguientes permitidas\n- Estados siguientes permitidos\n- Prerrequisitos para cada transici√≥n\n- Documentos requeridos\n- Aprobaciones necesarias\n- Permisos espec√≠ficos del usuario\n\n**Basado en:**\n- Fase actual del contrato\n- Estado actual del contrato\n- Tipo de contrataci√≥n (LOSNCP)\n- Permisos del usuario\n- Completitud de documentaci√≥n\n- Reglas de negocio espec√≠ficas"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "üìé Gesti√≥n de Documentos",
            "item": [
                {
                    "name": "üì§ Subir documento al contrato",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "files",
                                    "type": "file",
                                    "src": []
                                },
                                {
                                    "key": "documentType",
                                    "value": "PLIEGOS",
                                    "type": "text",
                                    "description": "Tipo de documento seg√∫n fase"
                                },
                                {
                                    "key": "phase",
                                    "value": "PRECONTRACTUAL",
                                    "type": "text",
                                    "description": "Fase del contrato"
                                },
                                {
                                    "key": "description",
                                    "value": "Pliegos de condiciones para proceso de cotizaci√≥n",
                                    "type": "text"
                                },
                                {
                                    "key": "isRequired",
                                    "value": "true",
                                    "type": "text"
                                },
                                {
                                    "key": "version",
                                    "value": "1.0",
                                    "type": "text"
                                },
                                {
                                    "key": "tags",
                                    "value": "pliegos,condiciones,cotizacion",
                                    "type": "text"
                                }
                            ]
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/{{contract_id}}/documents",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "{{contract_id}}",
                                "documents"
                            ]
                        },
                        "description": "**Subir documento asociado al contrato**\n\n**Permisos requeridos:** `documents.canUpload` + acceso al contrato\n\n**Validaciones autom√°ticas:**\n- Tipo de documento v√°lido para la fase actual\n- Tama√±o y formato permitido\n- No duplicaci√≥n de documentos requeridos\n- Permisos sobre el contrato\n\n**Tipos por fase:**\n- **PREPARATORIA**: PAC, TDR, Estudios, Resoluciones\n- **PRECONTRACTUAL**: Pliegos, Ofertas, Informes evaluaci√≥n\n- **CONTRACTUAL**: Contrato, Garant√≠as, Cronogramas\n- **PAGO**: Facturas, Planillas, Comprobantes\n- **RECEPCI√ìN**: Actas, Informes finales, Liquidaci√≥n"
                    },
                    "response": []
                },
                {
                    "name": "üìÑ Documentos del contrato",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/{{contract_id}}/documents?phase=PRECONTRACTUAL&documentType=PLIEGOS&includeVersions=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "{{contract_id}}",
                                "documents"
                            ],
                            "query": [
                                {
                                    "key": "phase",
                                    "value": "PRECONTRACTUAL",
                                    "description": "Filtrar por fase espec√≠fica"
                                },
                                {
                                    "key": "documentType",
                                    "value": "PLIEGOS",
                                    "description": "Filtrar por tipo de documento"
                                },
                                {
                                    "key": "includeVersions",
                                    "value": "true",
                                    "description": "Incluir historial de versiones"
                                },
                                {
                                    "key": "onlyRequired",
                                    "value": "false",
                                    "description": "Solo documentos requeridos",
                                    "disabled": true
                                }
                            ]
                        },
                        "description": "**Obtener documentos asociados al contrato**\n\n**Permisos requeridos:** `contracts.canViewOwn/canViewDepartment/canViewAll` + acceso al contrato\n\n**Organizaci√≥n por fases:**\n- Agrupaci√≥n autom√°tica por fase contractual\n- Estado de completitud por fase\n- Documentos requeridos vs opcionales\n- Versiones y revisiones\n\n**Informaci√≥n incluida:**\n- Metadatos del documento\n- Usuario que subi√≥\n- Fecha de subida\n- Estado de validaci√≥n\n- Enlaces de descarga\n- Historial de versiones"
                    },
                    "response": []
                },
                {
                    "name": "üîÑ Actualizar documento",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"description\": \"Pliegos de condiciones actualizados - Versi√≥n 1.1\",\n    \"version\": \"1.1\",\n    \"isRequired\": true,\n    \"tags\": [\"pliegos\", \"condiciones\", \"cotizacion\", \"actualizado\"],\n    \"updateReason\": \"Actualizaci√≥n por aclaraciones recibidas de potenciales oferentes\",\n    \"metadata\": {\n        \"reviewedBy\": \"Ab. Ana Garc√≠a\",\n        \"approvedBy\": \"Dr. Carlos Mendoza\",\n        \"legalReview\": true,\n        \"technicalReview\": true\n    },\n    \"versionNotes\": \"Se actualizaron las especificaciones t√©cnicas en la secci√≥n 3.2 y se aclararon los requisitos de garant√≠a en la secci√≥n 5.1\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/{{contract_id}}/documents/{{document_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "{{contract_id}}",
                                "documents",
                                "{{document_id}}"
                            ]
                        },
                        "description": "**Actualizar metadatos del documento del contrato**\n\n**Permisos requeridos:** `documents.canEdit` + acceso al contrato\n\n**Campos actualizables:**\n- Descripci√≥n y metadata\n- Versi√≥n y notas de versi√≥n\n- Tags y clasificaci√≥n\n- Estado de validaci√≥n\n- Campos personalizados\n\n**Control de versiones:**\n- Historial autom√°tico de cambios\n- Preservaci√≥n de versiones anteriores\n- Comparaci√≥n entre versiones\n- Restauraci√≥n de versiones previas"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "‚ö° Operaciones Masivas",
            "item": [
                {
                    "name": "üîÑ Actualizaci√≥n masiva",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"contractIds\": [\n        \"64f7e8b123456789abcdef99\",\n        \"64f7e8b123456789abcdef98\",\n        \"64f7e8b123456789abcdef97\"\n    ],\n    \"updateData\": {\n        \"metadata\": {\n            \"priority\": \"HIGH\",\n            \"tags\": [\"urgente\", \"2025\", \"modernizacion\"]\n        },\n        \"participants\": {\n            \"technicalSupervisor\": \"64f7e8b123456789abcdef04\"\n        },\n        \"customFields\": {\n            \"fiscalYear\": \"2025\",\n            \"budgetSource\": \"RECURSOS_PROPIOS\",\n            \"strategicPlan\": \"MODERNIZACION_TECNOLOGICA\"\n        }\n    },\n    \"filters\": {\n        \"onlyIfPhase\": [\"PREPARATORIA\", \"PRECONTRACTUAL\"],\n        \"onlyIfStatus\": [\"DRAFT\", \"ACTIVE\"],\n        \"onlyIfDepartment\": \"{{department_id}}\"\n    },\n    \"options\": {\n        \"validateBeforeUpdate\": true,\n        \"createBackup\": true,\n        \"notifyParticipants\": true,\n        \"generateReport\": true,\n        \"continueOnError\": false\n    },\n    \"reason\": \"Actualizaci√≥n masiva de contratos para alineaci√≥n con nueva estrategia institucional 2025\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/bulk-update",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "bulk-update"
                            ]
                        },
                        "description": "**Actualizaci√≥n masiva de contratos**\n\n**Permisos requeridos:** `contracts.canEdit` + acceso a cada contrato individual\n\n**Validaciones:**\n- Permisos sobre cada contrato\n- Estado v√°lido para modificaci√≥n\n- Filtros de seguridad aplicados\n- Backup autom√°tico antes de cambios\n\n**Campos actualizables en lote:**\n- Metadatos y tags\n- Participantes y responsables\n- Configuraciones de notificaci√≥n\n- Campos personalizados\n- Prioridades y clasificaciones\n\n**Opciones de seguridad:**\n- Validaci√≥n previa a actualizaci√≥n\n- Backup autom√°tico\n- Continuaci√≥n en caso de errores\n- Reporte detallado de resultados\n- Notificaciones a afectados"
                    },
                    "response": []
                },
                {
                    "name": "üóëÔ∏è Eliminaci√≥n masiva",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"contractIds\": [\n        \"64f7e8b123456789abcdef96\",\n        \"64f7e8b123456789abcdef95\"\n    ],\n    \"reason\": \"Contratos duplicados creados por error durante migraci√≥n de datos\",\n    \"deleteType\": \"SOFT\",\n    \"filters\": {\n        \"onlyIfPhase\": [\"PREPARATORIA\"],\n        \"onlyIfStatus\": [\"DRAFT\"],\n        \"onlyIfNoBudgetCommitment\": true,\n        \"onlyIfNoActiveDocuments\": true\n    },\n    \"options\": {\n        \"validateBeforeDelete\": true,\n        \"archiveDocuments\": true,\n        \"notifyParticipants\": true,\n        \"createDeletionReport\": true,\n        \"requireAdditionalApproval\": false\n    },\n    \"safeguards\": {\n        \"confirmationCode\": \"DELETE_CONFIRMED\",\n        \"approvedBy\": \"64f7e8b123456789abcdef07\",\n        \"approvalDate\": \"2025-09-01T14:00:00.000Z\"\n    }\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/bulk-delete",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "bulk-delete"
                            ]
                        },
                        "description": "**Eliminaci√≥n masiva de contratos**\n\n**Permisos requeridos:** `contracts.canDelete` + validaciones estrictas\n\n**Validaciones obligatorias:**\n- Solo contratos en fase PREPARATORIA o DRAFT\n- Sin compromisos presupuestarios ejecutados\n- Sin documentos cr√≠ticos asociados\n- Confirmaci√≥n expl√≠cita del usuario\n- Raz√≥n detallada de eliminaci√≥n\n\n**Filtros de seguridad:**\n- Estado y fase espec√≠ficos\n- Sin compromisos presupuestarios\n- Sin documentos activos cr√≠ticos\n- L√≠mite m√°ximo de contratos por operaci√≥n\n\n**‚ö†Ô∏è PRECAUCI√ìN EXTREMA:**\n- Esta operaci√≥n puede afectar m√∫ltiples contratos\n- Requiere aprobaci√≥n adicional para m√°s de 5 contratos\n- Genera backup autom√°tico antes de proceder\n- Crea reporte detallado de eliminaciones"
                    },
                    "response": []
                },
                {
                    "name": "üìä Exportaci√≥n masiva",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"contractIds\": [\n        \"64f7e8b123456789abcdef99\",\n        \"64f7e8b123456789abcdef98\",\n        \"64f7e8b123456789abcdef97\"\n    ],\n    \"exportFormat\": \"EXCEL\",\n    \"exportOptions\": {\n        \"includeDocuments\": true,\n        \"includeHistory\": true,\n        \"includeParticipants\": true,\n        \"includeFinancials\": true,\n        \"includeTechnicalSpecs\": true,\n        \"includeTimelines\": true\n    },\n    \"filters\": {\n        \"dateRange\": {\n            \"from\": \"2025-01-01\",\n            \"to\": \"2025-12-31\"\n        },\n        \"phases\": [\"PREPARATORIA\", \"PRECONTRACTUAL\", \"CONTRACTUAL\"],\n        \"departments\": [\"{{department_id}}\"],\n        \"contractTypes\": [\"COTIZACION\", \"MENOR_CUANTIA\"]\n    },\n    \"formatting\": {\n        \"locale\": \"es-EC\",\n        \"currency\": \"USD\",\n        \"dateFormat\": \"DD/MM/YYYY\",\n        \"includeHeaders\": true,\n        \"includeMetadata\": true\n    },\n    \"security\": {\n        \"watermark\": true,\n        \"accessControl\": true,\n        \"expirationHours\": 24,\n        \"downloadLimit\": 3\n    },\n    \"customFields\": [\n        \"processNumber\",\n        \"contractualObject\",\n        \"budget.amount\",\n        \"currentPhase\",\n        \"currentStatus\",\n        \"responsibleUser\",\n        \"createdAt\",\n        \"expectedEndDate\"\n    ]\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/bulk-export",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "bulk-export"
                            ]
                        },
                        "description": "**Exportaci√≥n masiva de contratos**\n\n**Permisos requeridos:** `special.canExportData` + acceso a contratos individuales\n\n**Formatos disponibles:**\n- **EXCEL**: Hoja de c√°lculo con m√∫ltiples pesta√±as\n- **CSV**: Archivo CSV con datos tabulares\n- **PDF**: Reporte consolidado en PDF\n- **JSON**: Exportaci√≥n completa en JSON\n\n**Opciones de exportaci√≥n:**\n- Datos b√°sicos del contrato\n- Documentos asociados\n- Historial de cambios\n- Participantes y responsables\n- Informaci√≥n financiera\n- Cronogramas y plazos\n\n**Seguridad:**\n- Marca de agua en documentos\n- Control de acceso al archivo\n- Expiraci√≥n autom√°tica\n- L√≠mite de descargas\n- Registro de auditor√≠a"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "üìä Reportes y Estad√≠sticas",
            "item": [
                {
                    "name": "üìà Dashboard de contratos",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/dashboard?period=current_month&department={{department_id}}&includeCharts=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "dashboard"
                            ],
                            "query": [
                                {
                                    "key": "period",
                                    "value": "current_month",
                                    "description": "Per√≠odo: today, current_week, current_month, current_quarter, current_year"
                                },
                                {
                                    "key": "department",
                                    "value": "{{department_id}}",
                                    "description": "Filtro por departamento espec√≠fico"
                                },
                                {
                                    "key": "includeCharts",
                                    "value": "true",
                                    "description": "Incluir datos para gr√°ficos"
                                }
                            ]
                        },
                        "description": "**Dashboard personalizado de contratos**\n\n**Permisos requeridos:** Acceso b√°sico al m√≥dulo + visibilidad seg√∫n rol\n\n**M√©tricas principales:**\n- Total de contratos por estado\n- Distribuci√≥n por fases\n- Presupuesto total y ejecutado\n- Contratos por tipo (LOSNCP)\n- Tendencias temporales\n- Indicadores de performance\n\n**Informaci√≥n por usuario:**\n- Contratos asignados\n- Tareas pendientes\n- Alertas y notificaciones\n- Pr√≥ximos vencimientos\n- Acciones requeridas\n\n**Datos para gr√°ficos:**\n- Distribuci√≥n por fases (pie chart)\n- Evoluci√≥n temporal (line chart)\n- Presupuesto por departamento (bar chart)\n- Estados de contratos (donut chart)"
                    },
                    "response": []
                },
                {
                    "name": "üìã Acciones pendientes",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/pending-actions?priority=HIGH&dueInDays=7&assignedToMe=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "pending-actions"
                            ],
                            "query": [
                                {
                                    "key": "priority",
                                    "value": "HIGH",
                                    "description": "Filtro por prioridad: LOW, MEDIUM, HIGH, CRITICAL"
                                },
                                {
                                    "key": "dueInDays",
                                    "value": "7",
                                    "description": "Acciones que vencen en X d√≠as"
                                },
                                {
                                    "key": "assignedToMe",
                                    "value": "true",
                                    "description": "Solo acciones asignadas al usuario actual"
                                },
                                {
                                    "key": "actionType",
                                    "value": "APPROVAL",
                                    "description": "Tipo: APPROVAL, REVIEW, UPLOAD, VALIDATION",
                                    "disabled": true
                                }
                            ]
                        },
                        "description": "**Obtener acciones pendientes del usuario**\n\n**Permisos requeridos:** `contracts.canViewOwn/canViewDepartment`\n\n**Tipos de acciones:**\n- **APPROVAL**: Aprobaciones requeridas\n- **REVIEW**: Revisiones pendientes\n- **UPLOAD**: Documentos por subir\n- **VALIDATION**: Validaciones t√©cnicas\n- **PHASE_TRANSITION**: Cambios de fase\n- **DEADLINE_ALERT**: Alertas de vencimiento\n\n**Informaci√≥n incluida:**\n- Descripci√≥n de la acci√≥n\n- Contrato asociado\n- Fecha l√≠mite\n- Prioridad\n- Usuario asignado\n- Instrucciones espec√≠ficas\n\n**Filtros disponibles:**\n- Prioridad de la acci√≥n\n- D√≠as hasta vencimiento\n- Tipo de acci√≥n\n- Estado del contrato\n- Asignaci√≥n personal/departamental"
                    },
                    "response": []
                },
                {
                    "name": "üìä Estad√≠sticas generales",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/statistics?period=last_quarter&groupBy=department&includeComparisons=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "statistics"
                            ],
                            "query": [
                                {
                                    "key": "period",
                                    "value": "last_quarter",
                                    "description": "Per√≠odo de an√°lisis"
                                },
                                {
                                    "key": "groupBy",
                                    "value": "department",
                                    "description": "Agrupar por: department, contractType, phase, status, user"
                                },
                                {
                                    "key": "includeComparisons",
                                    "value": "true",
                                    "description": "Incluir comparaciones con per√≠odos anteriores"
                                }
                            ]
                        },
                        "description": "**Estad√≠sticas generales de contrataci√≥n**\n\n**Permisos requeridos:** Acceso b√°sico al m√≥dulo + visibilidad seg√∫n rol\n\n**M√©tricas incluidas:**\n- Cantidad de contratos por per√≠odo\n- Montos presupuestados vs ejecutados\n- Tiempo promedio por fase\n- Distribuci√≥n por tipos LOSNCP\n- Eficiencia en cumplimiento\n- Indicadores de gesti√≥n\n\n**Agrupaciones disponibles:**\n- Por departamento solicitante\n- Por tipo de contrataci√≥n\n- Por fase actual\n- Por estado del contrato\n- Por usuario responsable\n\n**Comparaciones temporales:**\n- Per√≠odo actual vs anterior\n- Tendencias anuales\n- Variaciones estacionales\n- Indicadores de crecimiento"
                    },
                    "response": []
                },
                {
                    "name": "üìã Reporte de rendimiento",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/reports/performance?period=current_year&department={{department_id}}&format=JSON",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "reports",
                                "performance"
                            ],
                            "query": [
                                {
                                    "key": "period",
                                    "value": "current_year",
                                    "description": "Per√≠odo del reporte"
                                },
                                {
                                    "key": "department",
                                    "value": "{{department_id}}",
                                    "description": "Departamento espec√≠fico"
                                },
                                {
                                    "key": "format",
                                    "value": "JSON",
                                    "description": "Formato: JSON, PDF, EXCEL"
                                }
                            ]
                        },
                        "description": "**Reporte de rendimiento de contratos**\n\n**Permisos requeridos:** `contracts.canViewDepartment/canViewAll` seg√∫n alcance\n\n**Indicadores de rendimiento:**\n- KPIs de gesti√≥n contractual\n- Tiempo promedio por fase\n- Cumplimiento de plazos\n- Eficiencia presupuestaria\n- Calidad de documentaci√≥n\n- Satisfacci√≥n de usuarios internos\n\n**An√°lisis incluido:**\n- Tendencias de mejora/deterioro\n- Comparaciones interdepartamentales\n- Identificaci√≥n de cuellos de botella\n- Recomendaciones de optimizaci√≥n\n- M√©tricas de cumplimiento normativo\n\n**Formatos disponibles:**\n- JSON: Para integraci√≥n sistemas\n- PDF: Reporte ejecutivo imprimible\n- EXCEL: An√°lisis detallado manipulable"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "üóÉÔ∏è Operaciones Especiales",
            "item": [
                {
                    "name": "üìã Duplicar contrato",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"newContractData\": {\n        \"contractualObject\": \"Adquisici√≥n de equipos inform√°ticos - Fase II\",\n        \"processNumber\": \"GADMCE-COT-002-2025\",\n        \"requestingDepartment\": \"{{department_id}}\",\n        \"budget\": {\n            \"amount\": 75000.00,\n            \"currency\": \"USD\",\n            \"budgetCode\": \"530802\",\n            \"budgetYear\": 2025\n        },\n        \"basicInfo\": {\n            \"description\": \"Segunda fase del proceso de modernizaci√≥n tecnol√≥gica - equipos complementarios\",\n            \"deliveryTerm\": \"45 d√≠as calendario\"\n        }\n    },\n    \"duplicationOptions\": {\n        \"copyDocuments\": false,\n        \"copyParticipants\": true,\n        \"copyTimeline\": false,\n        \"copyCustomFields\": true,\n        \"copyMetadata\": false\n    },\n    \"initialSettings\": {\n        \"initialPhase\": \"PREPARATORIA\",\n        \"initialStatus\": \"DRAFT\",\n        \"responsibleUser\": \"{{user_id}}\",\n        \"priority\": \"MEDIUM\"\n    },\n    \"reason\": \"Creaci√≥n de proceso complementario para completar el plan de modernizaci√≥n tecnol√≥gica institucional\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/{{contract_id}}/duplicate",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "{{contract_id}}",
                                "duplicate"
                            ]
                        },
                        "description": "**Duplicar contrato existente**\n\n**Permisos requeridos:** `contracts.canCreate` + acceso al contrato fuente\n\n**Utilidad:**\n- Procesos similares o recurrentes\n- Contrataciones por lotes\n- Procesos complementarios\n- Reutilizaci√≥n de plantillas\n\n**Opciones de duplicaci√≥n:**\n- Copiar participantes y equipo t√©cnico\n- Copiar cronogramas y plazos\n- Copiar campos personalizados\n- Copiar metadatos y configuraciones\n- **No copiar**: Documentos originales (por seguridad)\n\n**Validaciones autom√°ticas:**\n- N√∫mero de proceso √∫nico\n- Disponibilidad presupuestaria\n- Permisos del departamento\n- Datos obligatorios completos\n\n**Estado del nuevo contrato:**\n- Siempre inicia en PREPARATORIA/DRAFT\n- Requiere validaci√≥n manual\n- Documentos deben subirse nuevamente"
                    },
                    "response": []
                },
                {
                    "name": "üì¶ Archivar contrato",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"archiveReason\": \"Contrato completado exitosamente seg√∫n cronograma establecido\",\n    \"archiveType\": \"COMPLETED\",\n    \"finalValidations\": {\n        \"allDocumentsReceived\": true,\n        \"allPaymentsProcessed\": true,\n        \"allGuaranteesReturned\": true,\n        \"finalActSigned\": true,\n        \"liquidationCompleted\": true\n    },\n    \"archiveSettings\": {\n        \"retentionPeriod\": \"7_YEARS\",\n        \"allowFutureAccess\": true,\n        \"createDigitalCopy\": true,\n        \"notifyStakeholders\": true,\n        \"generateFinalReport\": true\n    },\n    \"finalMetrics\": {\n        \"actualDuration\": 95,\n        \"budgetUtilization\": 98.5,\n        \"qualityScore\": 4.5,\n        \"stakeholderSatisfaction\": 4.8,\n        \"complianceScore\": 100\n    },\n    \"lessonsLearned\": [\n        {\n            \"category\": \"PROCESS\",\n            \"description\": \"La coordinaci√≥n temprana con usuarios finales mejor√≥ significativamente los tiempos de entrega\"\n        },\n        {\n            \"category\": \"TECHNICAL\",\n            \"description\": \"Las especificaciones detalladas redujeron las consultas post-adjudicaci√≥n en 40%\"\n        }\n    ],\n    \"recommendations\": [\n        \"Mantener el modelo de coordinaci√≥n temprana para futuros procesos similares\",\n        \"Considerar certificaciones adicionales de calidad para procesos de mayor envergadura\"\n    ]\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/{{contract_id}}/archive",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "{{contract_id}}",
                                "archive"
                            ]
                        },
                        "description": "**Archivar contrato completado**\n\n**Permisos requeridos:** `contracts.canEdit` + validaciones de estado\n\n**Requisitos para archivado:**\n- Contrato en fase RECEPCI√ìN\n- Estado COMPLETED\n- Todos los documentos finales\n- Liquidaci√≥n completada\n- Garant√≠as devueltas\n\n**Tipos de archivado:**\n- **COMPLETED**: Completado exitosamente\n- **TERMINATED**: Terminado por mutuo acuerdo\n- **CANCELLED**: Cancelado por incumplimiento\n- **EXPIRED**: Vencido por plazos\n\n**Proceso de archivado:**\n1. Validaciones finales\n2. Generaci√≥n de reporte final\n3. Copia de respaldo digital\n4. Notificaci√≥n a stakeholders\n5. Actualizaci√≥n de √≠ndices\n6. Configuraci√≥n de retenci√≥n\n\n**Post-archivado:**\n- Solo lectura para consultas\n- Retenci√≥n seg√∫n normativa\n- Disponible para auditor√≠as\n- M√©tricas para an√°lisis futuros"
                    },
                    "response": []
                },
                {
                    "name": "üîÑ Restaurar contrato",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"restoreReason\": \"Necesidad de correcciones en la liquidaci√≥n final por observaciones de auditor√≠a interna\",\n    \"restoreToPhase\": \"RECEPCION\",\n    \"restoreToStatus\": \"ACTIVE\",\n    \"requiredActions\": [\n        {\n            \"action\": \"CORRECT_LIQUIDATION\",\n            \"description\": \"Corregir c√°lculos de liquidaci√≥n seg√∫n observaciones de auditor√≠a\",\n            \"assignedTo\": \"64f7e8b123456789abcdef05\",\n            \"dueDate\": \"2025-09-15T00:00:00.000Z\"\n        },\n        {\n            \"action\": \"UPDATE_FINAL_REPORT\",\n            \"description\": \"Actualizar informe final con correcciones realizadas\",\n            \"assignedTo\": \"64f7e8b123456789abcdef04\",\n            \"dueDate\": \"2025-09-20T00:00:00.000Z\"\n        }\n    ],\n    \"approvals\": [\n        {\n            \"userId\": \"64f7e8b123456789abcdef07\",\n            \"role\": \"ADMINISTRATIVE_DIRECTOR\",\n            \"approved\": true,\n            \"approvalDate\": \"2025-09-01T15:00:00.000Z\",\n            \"comments\": \"Aprobada la restauraci√≥n para correcciones de auditor√≠a\"\n        }\n    ],\n    \"notifications\": {\n        \"notifyOriginalTeam\": true,\n        \"notifyCurrentSupervisors\": true,\n        \"notifyAuditTeam\": true,\n        \"customMessage\": \"El contrato ha sido restaurado para correcciones requeridas por auditor√≠a interna\"\n    },\n    \"timeline\": {\n        \"expectedReArchiveDate\": \"2025-09-25T00:00:00.000Z\",\n        \"maxRestoreDuration\": 30\n    }\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/{{contract_id}}/restore",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "{{contract_id}}",
                                "restore"
                            ]
                        },
                        "description": "**Restaurar contrato archivado**\n\n**Permisos requeridos:** `contracts.canEdit` + `special.canRestoreArchived`\n\n**Casos v√°lidos para restauraci√≥n:**\n- Correcciones requeridas por auditor√≠a\n- Errores en documentaci√≥n final\n- Procesos legales pendientes\n- Garant√≠as no devueltas correctamente\n- Liquidaciones con observaciones\n\n**Validaciones estrictas:**\n- Contrato previamente archivado\n- Justificaci√≥n v√°lida y documentada\n- Aprobaci√≥n de nivel superior\n- No exceder per√≠odo de retenci√≥n activa\n\n**Proceso de restauraci√≥n:**\n1. Validaci√≥n de permisos y justificaci√≥n\n2. Aprobaci√≥n de autoridad competente\n3. Reactivaci√≥n de accesos y permisos\n4. Notificaci√≥n a equipo original\n5. Asignaci√≥n de acciones correctivas\n6. Establecimiento de nuevo cronograma\n\n**‚ö†Ô∏è NOTA IMPORTANTE:**\n- Operaci√≥n excepcional y auditada\n- Requiere justificaci√≥n s√≥lida\n- Plazo m√°ximo de restauraci√≥n definido\n- Re-archivado obligatorio al completar correcciones"
                    },
                    "response": []
                }
            ]
        }
    ],
    "event": [
        {
            "listen": "prerequest",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Auto-generar IDs si no existen",
                    "if (!pm.collectionVariables.get('contract_id')) {",
                    "    pm.collectionVariables.set('contract_id', '64f7e8b123456789abcdef99');",
                    "}",
                    "",
                    "if (!pm.collectionVariables.get('department_id')) {",
                    "    pm.collectionVariables.set('department_id', '64f7e8b123456789abcdef03');",
                    "}",
                    "",
                    "if (!pm.collectionVariables.get('user_id')) {",
                    "    pm.collectionVariables.set('user_id', '64f7e8b123456789abcdef02');",
                    "}",
                    "",
                    "// Validar token de autorizaci√≥n",
                    "const authToken = pm.collectionVariables.get('auth_token') || pm.globals.get('auth_token');",
                    "if (!authToken) {",
                    "    console.log('‚ö†Ô∏è WARNING: No se encontr√≥ token de autorizaci√≥n');",
                    "    console.log('Configura la variable auth_token en Collection o Global variables');",
                    "}",
                    "",
                    "// Generar timestamp para requests que lo necesiten",
                    "pm.collectionVariables.set('timestamp', new Date().toISOString());"
                ]
            }
        },
        {
            "listen": "test",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Tests globales para todas las respuestas",
                    "pm.test('Response time is reasonable', function () {",
                    "    pm.expect(pm.response.responseTime).to.be.below(10000); // 10s para operaciones complejas",
                    "});",
                    "",
                    "pm.test('Response has correct headers', function () {",
                    "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
                    "});",
                    "",
                    "// Test de estructura de respuesta est√°ndar",
                    "if (pm.response.code >= 200 && pm.response.code < 300) {",
                    "    pm.test('Response has success structure', function () {",
                    "        const responseJson = pm.response.json();",
                    "        pm.expect(responseJson).to.have.property('success');",
                    "        pm.expect(responseJson).to.have.property('data');",
                    "    });",
                    "}",
                    "",
                    "// Guardar datos √∫tiles para siguientes requests",
                    "if (pm.response.code === 200 || pm.response.code === 201) {",
                    "    const responseJson = pm.response.json();",
                    "    ",
                    "    // Guardar contract_id si se crea un contrato",
                    "    if (responseJson.data && responseJson.data._id) {",
                    "        pm.collectionVariables.set('contract_id', responseJson.data._id);",
                    "        console.log('‚úÖ Guardado contract_id:', responseJson.data._id);",
                    "    }",
                    "    ",
                    "    // Guardar processNumber si est√° disponible",
                    "    if (responseJson.data && responseJson.data.processNumber) {",
                    "        pm.collectionVariables.set('process_number', responseJson.data.processNumber);",
                    "        console.log('‚úÖ Guardado process_number:', responseJson.data.processNumber);",
                    "    }",
                    "    ",
                    "    // Guardar document_id si se sube un documento",
                    "    if (responseJson.data && responseJson.data.documents) {",
                    "        const firstDoc = responseJson.data.documents[0];",
                    "        if (firstDoc && firstDoc._id) {",
                    "            pm.collectionVariables.set('document_id', firstDoc._id);",
                    "            console.log('‚úÖ Guardado document_id:', firstDoc._id);",
                    "        }",
                    "    }",
                    "}"
                ]
            }
        }
    ],
    "variable": [
        {
            "key": "base_url",
            "value": "http://localhost:3000",
            "type": "string",
            "description": "URL base del API - Cambiar seg√∫n entorno"
        },
        {
            "key": "auth_token",
            "value": "",
            "type": "string",
            "description": "Token JWT de autenticaci√≥n - Obtener de /auth/login"
        },
        {
            "key": "contract_id",
            "value": "64f7e8b123456789abcdef99",
            "type": "string",
            "description": "ID del contrato para operaciones espec√≠ficas - Se actualiza autom√°ticamente"
        },
        {
            "key": "department_id",
            "value": "64f7e8b123456789abcdef03",
            "type": "string",
            "description": "ID del departamento - Configurar seg√∫n necesidad"
        },
        {
            "key": "user_id",
            "value": "64f7e8b123456789abcdef02",
            "type": "string",
            "description": "ID del usuario actual - Para filtros y asignaciones"
        },
        {
            "key": "process_number",
            "value": "",
            "type": "string",
            "description": "N√∫mero del proceso contractual - Se actualiza autom√°ticamente"
        },
        {
            "key": "document_id",
            "value": "",
            "type": "string",
            "description": "ID del documento asociado - Se actualiza autom√°ticamente"
        },
        {
            "key": "timestamp",
            "value": "",
            "type": "string",
            "description": "Timestamp actual - Se genera autom√°ticamente"
        }
    ]
}