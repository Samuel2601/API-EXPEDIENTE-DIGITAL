{
    "info": {
        "_postman_id": "c9d8e7f6-4b3a-2109-8765-432109876543",
        "name": "GADMCE - Expediente Digital - Contract Configuration API",
        "description": "Colecci√≥n de endpoints para la configuraci√≥n de tipos y fases de contrataci√≥n p√∫blica seg√∫n LOSNCP\n\n**GADM Cant√≥n Esmeraldas - Sistema de Contrataci√≥n P√∫blica**\n\n## Funcionalidades incluidas:\n- ‚úÖ Gesti√≥n de tipos de contrataci√≥n LOSNCP\n- ‚úÖ Configuraci√≥n de fases contractuales\n- ‚úÖ Configuraci√≥n completa del sistema\n- ‚úÖ Validaci√≥n y estad√≠sticas\n- ‚úÖ Inicializaci√≥n del sistema\n- ‚úÖ Determinaci√≥n autom√°tica por monto\n\n## Marco Legal LOSNCP:\n- **Procedimientos comunes**: Subasta Inversa, Licitaci√≥n, Cotizaci√≥n, Menor Cuant√≠a, Consultor√≠a, Lista Corta\n- **Procedimientos especiales**: Emergencia, R√©gimen Especial, Cat√°logo Electr√≥nico, Convenio Marco, √çnfima Cuant√≠a\n\n## Variables necesarias:\n- `{{base_url}}`: URL base del API\n- `{{auth_token}}`: Token JWT de autenticaci√≥n (requiere permisos administrativos)\n- `{{config_id}}`: ID de configuraci√≥n para operaciones espec√≠ficas",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "üèóÔ∏è Gesti√≥n de Tipos de Contrataci√≥n",
            "item": [
                {
                    "name": "üìã Listar tipos de contrataci√≥n",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/configuration/types?includeInactive=false&category=COMUNES&page=1&limit=50",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "configuration",
                                "types"
                            ],
                            "query": [
                                {
                                    "key": "includeInactive",
                                    "value": "false",
                                    "description": "Incluir tipos inactivos"
                                },
                                {
                                    "key": "category",
                                    "value": "COMUNES",
                                    "description": "Filtrar por categor√≠a: COMUNES, ESPECIALES, TODOS"
                                },
                                {
                                    "key": "page",
                                    "value": "1",
                                    "description": "P√°gina actual"
                                },
                                {
                                    "key": "limit",
                                    "value": "50",
                                    "description": "Elementos por p√°gina"
                                },
                                {
                                    "key": "sortBy",
                                    "value": "name",
                                    "description": "Ordenar por: name, code, minAmount, maxAmount",
                                    "disabled": true
                                }
                            ]
                        },
                        "description": "**Obtener todos los tipos de contrataci√≥n configurados**\n\n**Permisos requeridos:** Acceso b√°sico al m√≥dulo\n\n**Tipos seg√∫n LOSNCP:**\n\n**Procedimientos Comunes:**\n- Subasta Inversa Electr√≥nica\n- Licitaci√≥n (>$200,000 bienes/servicios, >$500,000 obras)\n- Cotizaci√≥n ($5,000-$200,000 bienes/servicios, $10,000-$500,000 obras)\n- Menor Cuant√≠a (<$5,000 bienes/servicios, <$10,000 obras)\n- Consultor√≠a\n- Lista Corta\n\n**Procedimientos Especiales:**\n- Emergencia\n- R√©gimen Especial\n- Cat√°logo Electr√≥nico\n- Convenio Marco\n- √çnfima Cuant√≠a\n\n**Informaci√≥n incluida:**\n- C√≥digo y nombre del tipo\n- Rangos de montos aplicables\n- Fases requeridas\n- Documentos obligatorios\n- Plazos est√°ndar"
                    },
                    "response": [
                        {
                            "name": "‚úÖ Lista de tipos exitosa",
                            "originalRequest": {
                                "method": "GET",
                                "url": {
                                    "raw": "{{base_url}}/api/exp-digital/contracts/configuration/types"
                                }
                            },
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [],
                            "cookie": [],
                            "body": "{\n    \"success\": true,\n    \"data\": {\n        \"contractTypes\": [\n            {\n                \"_id\": \"64f7e8b123456789abcdef10\",\n                \"code\": \"COTIZACION\",\n                \"name\": \"Cotizaci√≥n\",\n                \"description\": \"Procedimiento para contrataci√≥n de bienes, servicios y obras en rangos medios\",\n                \"category\": \"COMUNES\",\n                \"amountRanges\": {\n                    \"goods\": { \"min\": 5000, \"max\": 200000 },\n                    \"services\": { \"min\": 5000, \"max\": 200000 },\n                    \"works\": { \"min\": 10000, \"max\": 500000 }\n                },\n                \"requiredPhases\": [\"PREPARATORIA\", \"PRECONTRACTUAL\", \"CONTRACTUAL\", \"PAGO\", \"RECEPCION\"],\n                \"standardDuration\": 60,\n                \"isActive\": true\n            }\n        ],\n        \"totalCount\": 11,\n        \"currentPage\": 1,\n        \"totalPages\": 1\n    }\n}"
                        }
                    ]
                },
                {
                    "name": "‚ûï Crear tipo de contrataci√≥n",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"code\": \"SUBASTA_ESPECIAL\",\n    \"name\": \"Subasta Inversa Especial\",\n    \"description\": \"Procedimiento especial de subasta inversa para bienes y servicios de alta complejidad t√©cnica\",\n    \"category\": \"ESPECIALES\",\n    \"legalFramework\": {\n        \"lawArticle\": \"Art. 47 LOSNCP\",\n        \"regulationArticles\": [\"Art. 105 RGLOSNCP\", \"Art. 106 RGLOSNCP\"],\n        \"applicableCases\": [\n            \"Bienes de alta complejidad t√©cnica\",\n            \"Servicios especializados con m√∫ltiples proveedores\",\n            \"Contrataciones que requieren evaluaci√≥n t√©cnica previa\"\n        ]\n    },\n    \"amountRanges\": {\n        \"goods\": {\n            \"min\": 50000,\n            \"max\": 1000000,\n            \"currency\": \"USD\"\n        },\n        \"services\": {\n            \"min\": 50000,\n            \"max\": 1000000,\n            \"currency\": \"USD\"\n        },\n        \"works\": {\n            \"min\": 100000,\n            \"max\": 2000000,\n            \"currency\": \"USD\"\n        }\n    },\n    \"requiredPhases\": [\n        \"PREPARATORIA\",\n        \"PRECONTRACTUAL\",\n        \"CONTRACTUAL\",\n        \"PAGO\",\n        \"RECEPCION\"\n    ],\n    \"mandatoryDocuments\": [\n        {\n            \"phase\": \"PREPARATORIA\",\n            \"documents\": [\"PAC\", \"TDR_ESPECIALIZADOS\", \"ESTUDIO_MERCADO_AMPLIADO\", \"DESAGREGACION_TECNOLOGICA\"]\n        },\n        {\n            \"phase\": \"PRECONTRACTUAL\",\n            \"documents\": [\"PLIEGOS_ESPECIALES\", \"EVALUACION_TECNICA_PREVIA\", \"MATRIZ_CALIFICACION\"]\n        }\n    ],\n    \"timingConfiguration\": {\n        \"standardDuration\": 90,\n        \"phaseDurations\": {\n            \"PREPARATORIA\": 21,\n            \"PRECONTRACTUAL\": 35,\n            \"CONTRACTUAL\": 20,\n            \"PAGO\": 7,\n            \"RECEPCION\": 7\n        },\n        \"publicationPeriod\": 10,\n        \"bidSubmissionPeriod\": 15,\n        \"evaluationPeriod\": 10\n    },\n    \"validationRules\": {\n        \"requireTechnicalTeam\": true,\n        \"minimumProviders\": 3,\n        \"requireMarketStudy\": true,\n        \"requireBudgetAvailability\": true,\n        \"allowEmergencyUse\": false\n    },\n    \"metadata\": {\n        \"complexity\": \"HIGH\",\n        \"riskLevel\": \"MEDIUM\",\n        \"transparency\": \"HIGH\",\n        \"competitiveness\": \"HIGH\"\n    },\n    \"isActive\": true,\n    \"effectiveDate\": \"2025-10-01T00:00:00.000Z\",\n    \"notes\": \"Tipo de contrataci√≥n especializado para procesos que requieren evaluaci√≥n t√©cnica rigurosa y alta competitividad.\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/configuration/types",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "configuration",
                                "types"
                            ]
                        },
                        "description": "**Crear nuevo tipo de contrataci√≥n personalizado**\n\n**Permisos requeridos:** `special.canManagePermissions` (solo administradores)\n\n**‚ö†Ô∏è PRECAUCI√ìN**: Solo para casos excepcionales no cubiertos por LOSNCP est√°ndar\n\n**Validaciones obligatorias:**\n- C√≥digo √∫nico en el sistema\n- Marco legal de respaldo\n- Rangos de montos v√°lidos\n- Fases requeridas definidas\n- Documentos obligatorios por fase\n\n**Campos requeridos:**\n- `code`: C√≥digo √∫nico identificador\n- `name`: Nombre descriptivo\n- `category`: COMUNES o ESPECIALES\n- `amountRanges`: Rangos por tipo de objeto\n- `requiredPhases`: Fases obligatorias\n- `legalFramework`: Sustento legal\n\n**Recomendaci√≥n:** Consultar con asesor√≠a jur√≠dica antes de crear tipos personalizados"
                    },
                    "response": []
                },
                {
                    "name": "üîç Obtener tipo espec√≠fico",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/configuration/types/{{type_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "configuration",
                                "types",
                                "{{type_id}}"
                            ]
                        },
                        "description": "**Obtener configuraci√≥n detallada de un tipo espec√≠fico**\n\n**Permisos requeridos:** Acceso b√°sico al m√≥dulo\n\n**Informaci√≥n detallada incluida:**\n- Configuraci√≥n completa del tipo\n- Marco legal aplicable\n- Rangos de montos por categor√≠a\n- Fases y documentos requeridos\n- Plazos est√°ndar por fase\n- Reglas de validaci√≥n\n- Historial de modificaciones\n- Estad√≠sticas de uso\n\n**√ötil para:**\n- Configuraci√≥n de nuevos contratos\n- Validaci√≥n de cumplimiento\n- Capacitaci√≥n del personal\n- Auditor√≠as de proceso"
                    },
                    "response": []
                },
                {
                    "name": "‚úèÔ∏è Actualizar tipo de contrataci√≥n",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"description\": \"Procedimiento para contrataci√≥n de bienes, servicios y obras en rangos medios - Actualizado seg√∫n reformas 2025\",\n    \"amountRanges\": {\n        \"goods\": {\n            \"min\": 5000,\n            \"max\": 250000,\n            \"currency\": \"USD\"\n        },\n        \"services\": {\n            \"min\": 5000,\n            \"max\": 250000,\n            \"currency\": \"USD\"\n        },\n        \"works\": {\n            \"min\": 10000,\n            \"max\": 600000,\n            \"currency\": \"USD\"\n        }\n    },\n    \"timingConfiguration\": {\n        \"standardDuration\": 65,\n        \"phaseDurations\": {\n            \"PREPARATORIA\": 15,\n            \"PRECONTRACTUAL\": 25,\n            \"CONTRACTUAL\": 15,\n            \"PAGO\": 5,\n            \"RECEPCION\": 5\n        },\n        \"publicationPeriod\": 8,\n        \"bidSubmissionPeriod\": 12,\n        \"evaluationPeriod\": 5\n    },\n    \"legalFramework\": {\n        \"lawArticle\": \"Art. 48 LOSNCP\",\n        \"regulationArticles\": [\"Art. 98 RGLOSNCP\", \"Art. 99 RGLOSNCP\", \"Art. 100 RGLOSNCP\"],\n        \"lastUpdate\": \"2025-08-01\",\n        \"reformNotes\": \"Actualizaci√≥n de montos seg√∫n inflaci√≥n 2024-2025 y mejoras en plazos de evaluaci√≥n\"\n    },\n    \"validationRules\": {\n        \"requireTechnicalTeam\": true,\n        \"minimumProviders\": 2,\n        \"requireMarketStudy\": true,\n        \"requireBudgetAvailability\": true,\n        \"allowEmergencyUse\": false,\n        \"requireEnvironmentalStudy\": false\n    },\n    \"updateReason\": \"Actualizaci√≥n de rangos de montos y plazos seg√∫n reformas normativas 2025 y experiencia operativa del primer semestre\",\n    \"effectiveDate\": \"2025-10-01T00:00:00.000Z\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/configuration/types/{{type_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "configuration",
                                "types",
                                "{{type_id}}"
                            ]
                        },
                        "description": "**Actualizar configuraci√≥n de tipo de contrataci√≥n**\n\n**Permisos requeridos:** `special.canManagePermissions` (solo administradores)\n\n**‚ö†Ô∏è IMPACTO IMPORTANTE**: Los cambios afectan a todos los contratos futuros de este tipo\n\n**Campos actualizables:**\n- Descripci√≥n y marco legal\n- Rangos de montos (con fecha efectiva)\n- Plazos y duraciones est√°ndar\n- Reglas de validaci√≥n\n- Documentos requeridos\n- Configuraciones espec√≠ficas\n\n**Validaciones autom√°ticas:**\n- No afectar contratos en proceso\n- Rangos de montos l√≥gicos\n- Fases requeridas v√°lidas\n- Marco legal actualizado\n- Fecha efectiva futura\n\n**Registro de auditor√≠a:**\n- Usuario que realiza el cambio\n- Fecha de modificaci√≥n\n- Campos modificados (diff)\n- Raz√≥n del cambio\n- Fecha de vigencia"
                    },
                    "response": []
                },
                {
                    "name": "üóëÔ∏è Desactivar tipo de contrataci√≥n",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"reason\": \"Tipo de contrataci√≥n descontinuado seg√∫n nueva normativa SERCOP 2025\",\n    \"effectiveDate\": \"2025-12-31T23:59:59.000Z\",\n    \"migrationPlan\": {\n        \"newTypeCode\": \"COTIZACION\",\n        \"affectedContracts\": [\n            \"64f7e8b123456789abcdef99\",\n            \"64f7e8b123456789abcdef98\"\n        ],\n        \"migrationStrategy\": \"ALLOW_COMPLETION\",\n        \"notifyUsers\": true\n    },\n    \"approvals\": [\n        {\n            \"userId\": \"64f7e8b123456789abcdef07\",\n            \"role\": \"LEGAL_DIRECTOR\",\n            \"approved\": true,\n            \"approvalDate\": \"2025-09-01T16:00:00.000Z\",\n            \"comments\": \"Aprobada desactivaci√≥n seg√∫n circular SERCOP-2025-15\"\n        }\n    ]\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/configuration/types/{{type_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "configuration",
                                "types",
                                "{{type_id}}"
                            ]
                        },
                        "description": "**Desactivar tipo de contrataci√≥n (soft delete)**\n\n**Permisos requeridos:** `special.canManagePermissions` + aprobaci√≥n superior\n\n**‚ö†Ô∏è OPERACI√ìN CR√çTICA**: Afecta disponibilidad para nuevos contratos\n\n**Validaciones obligatorias:**\n- No debe tener contratos activos en proceso\n- Debe especificar raz√≥n legal/normativa\n- Requiere aprobaci√≥n de nivel directivo\n- Plan de migraci√≥n para contratos existentes\n- Fecha efectiva de desactivaci√≥n\n\n**Tipos de desactivaci√≥n:**\n- **SOFT DELETE**: Marca como inactivo, preserva datos\n- **SCHEDULED**: Desactivaci√≥n programada\n- **IMMEDIATE**: Desactivaci√≥n inmediata (solo emergencias)\n\n**Estrategias de migraci√≥n:**\n- **ALLOW_COMPLETION**: Permitir completar contratos en curso\n- **FORCE_MIGRATION**: Migrar contratos a nuevo tipo\n- **FREEZE**: Congelar nuevos contratos, mantener existentes\n\n**Proceso post-desactivaci√≥n:**\n1. No disponible para nuevos contratos\n2. Contratos existentes pueden continuar\n3. Registro en auditor√≠a permanente\n4. Posible reactivaci√≥n futura"
                    },
                    "response": []
                },
                {
                    "name": "üî¢ Determinar tipo por monto",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/configuration/types/by-amount/75000?objectType=goods&includeAlternatives=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "configuration",
                                "types",
                                "by-amount",
                                "75000"
                            ],
                            "query": [
                                {
                                    "key": "objectType",
                                    "value": "goods",
                                    "description": "Tipo de objeto: goods, services, works, consulting"
                                },
                                {
                                    "key": "includeAlternatives",
                                    "value": "true",
                                    "description": "Incluir tipos alternativos aplicables"
                                },
                                {
                                    "key": "currency",
                                    "value": "USD",
                                    "description": "Moneda del monto",
                                    "disabled": true
                                }
                            ]
                        },
                        "description": "**Determinar tipo de contrataci√≥n autom√°ticamente por monto**\n\n**Permisos requeridos:** Acceso b√°sico al m√≥dulo\n\n**Funcionalidad clave:**\n- Determinaci√≥n autom√°tica seg√∫n rangos LOSNCP\n- Validaci√≥n de montos por tipo de objeto\n- Sugerencia de tipos alternativos aplicables\n- Verificaci√≥n de restricciones especiales\n\n**Tipos de objeto:**\n- **goods**: Bienes (equipos, suministros, materiales)\n- **services**: Servicios (consultor√≠a, mantenimiento, capacitaci√≥n)\n- **works**: Obras (construcci√≥n, remodelaci√≥n, infraestructura)\n- **consulting**: Consultor√≠a especializada\n\n**Rangos est√°ndar LOSNCP:**\n- **√çnfima Cuant√≠a**: <$5,000\n- **Menor Cuant√≠a**: $5,000-$200,000 (bienes/servicios)\n- **Cotizaci√≥n**: $5,000-$200,000 (bienes/servicios), $10,000-$500,000 (obras)\n- **Licitaci√≥n**: >$200,000 (bienes/servicios), >$500,000 (obras)\n\n**Respuesta incluye:**\n- Tipo recomendado principal\n- Tipos alternativos v√°lidos\n- Justificaci√≥n t√©cnica\n- Restricciones aplicables\n- Marco legal de referencia"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "üìÖ Gesti√≥n de Fases Contractuales",
            "item": [
                {
                    "name": "üìã Listar fases disponibles",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/configuration/phases?includeInactive=false&contractType=COTIZACION&page=1&limit=20",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "configuration",
                                "phases"
                            ],
                            "query": [
                                {
                                    "key": "includeInactive",
                                    "value": "false",
                                    "description": "Incluir fases inactivas"
                                },
                                {
                                    "key": "contractType",
                                    "value": "COTIZACION",
                                    "description": "Filtrar por tipo de contrato espec√≠fico"
                                },
                                {
                                    "key": "page",
                                    "value": "1",
                                    "description": "P√°gina actual"
                                },
                                {
                                    "key": "limit",
                                    "value": "20",
                                    "description": "Elementos por p√°gina"
                                }
                            ]
                        },
                        "description": "**Obtener todas las fases contractuales configuradas**\n\n**Permisos requeridos:** Acceso b√°sico al m√≥dulo\n\n**Fases est√°ndar LOSNCP:**\n\n**1. PREPARATORIA**\n- Certificaci√≥n presupuestaria (PAC)\n- Estudios de mercado\n- T√©rminos de referencia/especificaciones t√©cnicas\n- Resoluci√≥n de inicio\n- Estudio de desagregaci√≥n tecnol√≥gica (si aplica)\n\n**2. PRECONTRACTUAL**\n- Pliegos de condiciones\n- Publicaci√≥n y convocatoria\n- Preguntas, respuestas y aclaraciones\n- Recepci√≥n de ofertas\n- Evaluaci√≥n y calificaci√≥n\n- Adjudicaci√≥n o declaratoria desierta\n\n**3. CONTRACTUAL/EJECUCI√ìN**\n- Suscripci√≥n del contrato\n- Entrega de garant√≠as\n- Cronograma valorado\n- Seguimiento y control\n- Administraci√≥n del contrato\n\n**4. PAGO**\n- Recepci√≥n de facturas\n- Validaci√≥n y aprobaci√≥n\n- Proceso de pago\n- Retenciones tributarias\n\n**5. RECEPCI√ìN**\n- Acta de entrega-recepci√≥n definitiva\n- Liquidaci√≥n del contrato\n- Devoluci√≥n de garant√≠as\n- Informe final"
                    },
                    "response": []
                },
                {
                    "name": "‚ûï Crear fase personalizada",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"code\": \"POST_CONTRACTUAL\",\n    \"name\": \"Post-Contractual\",\n    \"description\": \"Fase de seguimiento y evaluaci√≥n posterior a la recepci√≥n definitiva\",\n    \"order\": 6,\n    \"applicableContractTypes\": [\n        \"LICITACION\",\n        \"COTIZACION\",\n        \"CONSULTORIA\"\n    ],\n    \"isOptional\": true,\n    \"duration\": {\n        \"standardDays\": 30,\n        \"minimumDays\": 15,\n        \"maximumDays\": 60\n    },\n    \"requiredDocuments\": [\n        {\n            \"code\": \"EVALUACION_POST_CONTRACTUAL\",\n            \"name\": \"Evaluaci√≥n Post-Contractual\",\n            \"description\": \"Evaluaci√≥n de cumplimiento y satisfacci√≥n post-recepci√≥n\",\n            \"isRequired\": true,\n            \"allowedFormats\": [\"PDF\", \"DOCX\"],\n            \"maxFileSize\": 5242880,\n            \"template\": {\n                \"available\": true,\n                \"templateId\": \"TPL_POST_EVAL_001\"\n            }\n        },\n        {\n            \"code\": \"INFORME_LECCIONES_APRENDIDAS\",\n            \"name\": \"Informe de Lecciones Aprendidas\",\n            \"description\": \"Documento con lecciones aprendidas y recomendaciones\",\n            \"isRequired\": false,\n            \"allowedFormats\": [\"PDF\", \"DOCX\"],\n            \"maxFileSize\": 3145728\n        }\n    ],\n    \"phaseActivities\": [\n        {\n            \"name\": \"Evaluaci√≥n de cumplimiento t√©cnico\",\n            \"description\": \"Verificar que los entregables cumplan con especificaciones t√©cnicas a 30 d√≠as\",\n            \"estimatedDuration\": 7,\n            \"responsibleRole\": \"TECHNICAL_SUPERVISOR\",\n            \"isRequired\": true\n        },\n        {\n            \"name\": \"Encuesta de satisfacci√≥n\",\n            \"description\": \"Aplicar encuesta de satisfacci√≥n a usuarios finales\",\n            \"estimatedDuration\": 5,\n            \"responsibleRole\": \"ADMINISTRATIVE_SUPERVISOR\",\n            \"isRequired\": true\n        },\n        {\n            \"name\": \"Evaluaci√≥n de proveedor\",\n            \"description\": \"Calificar desempe√±o del proveedor para futuros procesos\",\n            \"estimatedDuration\": 3,\n            \"responsibleRole\": \"PROCUREMENT_MANAGER\",\n            \"isRequired\": false\n        }\n    ],\n    \"transitionRules\": {\n        \"allowedPreviousPhases\": [\"RECEPCION\"],\n        \"allowedNextPhases\": [],\n        \"autoTransitionTriggers\": [\n            {\n                \"trigger\": \"DAYS_AFTER_RECEPTION\",\n                \"value\": 1,\n                \"condition\": \"CONTRACT_VALUE_GT_50000\"\n            }\n        ]\n    },\n    \"validationRules\": {\n        \"requireAllDocuments\": false,\n        \"requireSupervisorApproval\": true,\n        \"allowSkipIfMinorValue\": true,\n        \"minContractValueToApply\": 25000\n    },\n    \"notifications\": {\n        \"phaseStart\": {\n            \"enabled\": true,\n            \"recipients\": [\"RESPONSIBLE_USER\", \"TECHNICAL_TEAM\", \"DEPARTMENT_HEAD\"],\n            \"template\": \"POST_CONTRACTUAL_START\"\n        },\n        \"phaseDeadline\": {\n            \"enabled\": true,\n            \"daysBeforeDeadline\": [7, 3, 1],\n            \"recipients\": [\"RESPONSIBLE_USER\", \"TECHNICAL_SUPERVISOR\"]\n        }\n    },\n    \"metadata\": {\n        \"purpose\": \"QUALITY_CONTROL\",\n        \"criticality\": \"MEDIUM\",\n        \"compliance\": \"BEST_PRACTICE\",\n        \"category\": \"FOLLOW_UP\"\n    },\n    \"isActive\": true,\n    \"effectiveDate\": \"2025-10-01T00:00:00.000Z\",\n    \"creationReason\": \"Implementar seguimiento post-contractual para mejorar calidad de futuras contrataciones y mantener registro de satisfacci√≥n de usuarios finales\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/configuration/phases",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "configuration",
                                "phases"
                            ]
                        },
                        "description": "**Crear nueva fase contractual personalizada**\n\n**Permisos requeridos:** `special.canManagePermissions` (solo administradores)\n\n**‚ö†Ô∏è NOTA**: Solo para casos especiales no cubiertos por fases est√°ndar LOSNCP\n\n**Casos v√°lidos para fases personalizadas:**\n- Seguimiento post-contractual\n- Fases de garant√≠a extendida\n- Evaluaci√≥n de satisfacci√≥n\n- Mantenimiento de garant√≠as\n- Procesos de auditor√≠a espec√≠ficos\n\n**Validaciones obligatorias:**\n- C√≥digo √∫nico en el sistema\n- Orden l√≥gico en secuencia\n- Tipos de contrato aplicables\n- Documentos requeridos definidos\n- Actividades y responsables\n- Reglas de transici√≥n v√°lidas\n\n**Configuraci√≥n incluida:**\n- Duraci√≥n est√°ndar y rangos\n- Documentos obligatorios y opcionales\n- Actividades y responsables\n- Reglas de validaci√≥n\n- Notificaciones autom√°ticas\n- Condiciones de aplicaci√≥n"
                    },
                    "response": []
                },
                {
                    "name": "üîç Obtener fase espec√≠fica",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/configuration/phases/{{phase_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "configuration",
                                "phases",
                                "{{phase_id}}"
                            ]
                        },
                        "description": "**Obtener configuraci√≥n detallada de una fase espec√≠fica**\n\n**Permisos requeridos:** Acceso b√°sico al m√≥dulo\n\n**Informaci√≥n detallada incluida:**\n- Configuraci√≥n completa de la fase\n- Documentos requeridos y opcionales\n- Actividades y cronograma est√°ndar\n- Responsables y roles involucrados\n- Reglas de transici√≥n y validaci√≥n\n- Notificaciones autom√°ticas\n- Plantillas de documentos\n- Estad√≠sticas de uso y eficiencia\n\n**√ötil para:**\n- Planificaci√≥n de cronogramas\n- Capacitaci√≥n del personal\n- Configuraci√≥n de nuevos procesos\n- Auditor√≠as de cumplimiento\n- Optimizaci√≥n de tiempos"
                    },
                    "response": []
                },
                {
                    "name": "‚úèÔ∏è Actualizar configuraci√≥n de fase",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"description\": \"Fase preparatoria actualizada con nuevos requerimientos seg√∫n circular SERCOP-2025-08\",\n    \"duration\": {\n        \"standardDays\": 18,\n        \"minimumDays\": 10,\n        \"maximumDays\": 30\n    },\n    \"requiredDocuments\": [\n        {\n            \"code\": \"PAC\",\n            \"name\": \"Certificaci√≥n Presupuestaria\",\n            \"description\": \"Certificaci√≥n de disponibilidad presupuestaria actualizada\",\n            \"isRequired\": true,\n            \"allowedFormats\": [\"PDF\"],\n            \"maxFileSize\": 2097152,\n            \"validityDays\": 30\n        },\n        {\n            \"code\": \"TDR_ACTUALIZADOS\",\n            \"name\": \"T√©rminos de Referencia 2025\",\n            \"description\": \"TDR con nuevos est√°ndares de sostenibilidad ambiental\",\n            \"isRequired\": true,\n            \"allowedFormats\": [\"PDF\", \"DOCX\"],\n            \"maxFileSize\": 5242880,\n            \"template\": {\n                \"available\": true,\n                \"templateId\": \"TPL_TDR_2025_SUSTENTABLE\",\n                \"version\": \"2025.1\"\n            }\n        },\n        {\n            \"code\": \"ESTUDIO_IMPACTO_AMBIENTAL\",\n            \"name\": \"Estudio de Impacto Ambiental\",\n            \"description\": \"Obligatorio para contratos >$50,000 seg√∫n nueva normativa\",\n            \"isRequired\": false,\n            \"conditionalRequirement\": {\n                \"condition\": \"CONTRACT_VALUE_GT_50000\",\n                \"applyWhen\": true\n            },\n            \"allowedFormats\": [\"PDF\"],\n            \"maxFileSize\": 10485760\n        }\n    ],\n    \"phaseActivities\": [\n        {\n            \"name\": \"Validaci√≥n presupuestaria ampliada\",\n            \"description\": \"Incluye validaci√≥n de impacto plurianual y sostenibilidad fiscal\",\n            \"estimatedDuration\": 5,\n            \"responsibleRole\": \"BUDGET_ANALYST\",\n            \"isRequired\": true,\n            \"newActivity\": true\n        }\n    ],\n    \"validationRules\": {\n        \"requireAllDocuments\": true,\n        \"requireSupervisorApproval\": true,\n        \"requireEnvironmentalReview\": true,\n        \"minContractValueForEnvironmentalReview\": 50000\n    },\n    \"updateReason\": \"Implementaci√≥n de nuevos est√°ndares de sostenibilidad y ampliaci√≥n de validaciones presupuestarias seg√∫n circular SERCOP-2025-08\",\n    \"effectiveDate\": \"2025-10-15T00:00:00.000Z\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/configuration/phases/{{phase_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "configuration",
                                "phases",
                                "{{phase_id}}"
                            ]
                        },
                        "description": "**Actualizar configuraci√≥n de fase contractual**\n\n**Permisos requeridos:** `special.canManagePermissions` (solo administradores)\n\n**‚ö†Ô∏è IMPACTO**: Los cambios afectan a todos los contratos futuros que usen esta fase\n\n**Campos actualizables:**\n- Duraci√≥n est√°ndar y rangos\n- Documentos requeridos y opcionales\n- Actividades y responsables\n- Reglas de validaci√≥n\n- Condiciones de aplicaci√≥n\n- Notificaciones autom√°ticas\n\n**Validaciones autom√°ticas:**\n- No afectar contratos en proceso en esta fase\n- Documentos requeridos v√°lidos\n- Duraci√≥n l√≥gica y factible\n- Roles de responsables existentes\n- Plantillas de documentos disponibles\n\n**Gesti√≥n de cambios:**\n- Fecha efectiva de cambios\n- Migraci√≥n gradual de procesos\n- Notificaci√≥n a usuarios afectados\n- Capacitaci√≥n en nuevos requerimientos"
                    },
                    "response": []
                },
                {
                    "name": "üóëÔ∏è Desactivar fase",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"reason\": \"Fase obsoleta seg√∫n nueva normativa SERCOP que unifica etapas preparatorias\",\n    \"effectiveDate\": \"2025-12-31T23:59:59.000Z\",\n    \"migrationPlan\": {\n        \"targetPhaseCode\": \"PREPARATORIA\",\n        \"mergeActivities\": true,\n        \"preserveDocuments\": true,\n        \"migrationStrategy\": \"GRADUAL_TRANSITION\"\n    },\n    \"affectedContracts\": {\n        \"allowCurrentToComplete\": true,\n        \"blockNewContracts\": true,\n        \"notificationRequired\": true\n    },\n    \"approvals\": [\n        {\n            \"userId\": \"64f7e8b123456789abcdef07\",\n            \"role\": \"LEGAL_DIRECTOR\",\n            \"approved\": true,\n            \"approvalDate\": \"2025-09-01T17:00:00.000Z\",\n            \"comments\": \"Aprobada seg√∫n directriz de simplificaci√≥n de procesos SERCOP-2025\"\n        }\n    ]\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/configuration/phases/{{phase_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "configuration",
                                "phases",
                                "{{phase_id}}"
                            ]
                        },
                        "description": "**Desactivar fase contractual (soft delete)**\n\n**Permisos requeridos:** `special.canManagePermissions` + aprobaci√≥n superior\n\n**‚ö†Ô∏è OPERACI√ìN CR√çTICA**: Afecta todos los tipos de contrato que usan esta fase\n\n**‚ö†Ô∏è RESTRICCI√ìN**: No se pueden desactivar fases est√°ndar LOSNCP obligatorias\n\n**Validaciones obligatorias:**\n- Solo fases personalizadas/opcionales\n- No debe tener contratos activos en esta fase\n- Plan de migraci√≥n para contratos en proceso\n- Aprobaci√≥n de nivel directivo\n- Justificaci√≥n normativa o t√©cnica\n\n**Estrategias de migraci√≥n:**\n- **GRADUAL_TRANSITION**: Transici√≥n gradual de procesos\n- **IMMEDIATE_MERGE**: Fusi√≥n inmediata con otra fase\n- **ALLOW_COMPLETION**: Permitir completar contratos actuales\n\n**Proceso de desactivaci√≥n:**\n1. Validar que no es fase obligatoria LOSNCP\n2. Verificar ausencia de contratos activos\n3. Ejecutar plan de migraci√≥n\n4. Notificar a usuarios afectados\n5. Actualizar tipos de contrato dependientes\n6. Archivar configuraci√≥n para auditor√≠a"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "‚öôÔ∏è Configuraci√≥n Completa del Sistema",
            "item": [
                {
                    "name": "üèóÔ∏è Configuraci√≥n completa",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/configuration/complete?includeInactive=false&format=STRUCTURED",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "configuration",
                                "complete"
                            ],
                            "query": [
                                {
                                    "key": "includeInactive",
                                    "value": "false",
                                    "description": "Incluir elementos desactivados"
                                },
                                {
                                    "key": "format",
                                    "value": "STRUCTURED",
                                    "description": "Formato: STRUCTURED, FLAT, MINIMAL"
                                }
                            ]
                        },
                        "description": "**Obtener configuraci√≥n completa del sistema (tipos + fases)**\n\n**Permisos requeridos:** Acceso b√°sico al m√≥dulo\n\n**Informaci√≥n incluida:**\n- Todos los tipos de contrataci√≥n activos\n- Todas las fases contractuales configuradas\n- Relaciones entre tipos y fases\n- Documentos requeridos por tipo/fase\n- Plazos y duraciones est√°ndar\n- Reglas de validaci√≥n globales\n- Configuraciones de notificaci√≥n\n\n**Formatos disponibles:**\n- **STRUCTURED**: Estructura jer√°rquica organizada\n- **FLAT**: Lista plana para procesamiento\n- **MINIMAL**: Solo campos esenciales\n\n**√ötil para:**\n- Inicializaci√≥n de aplicaciones cliente\n- Sincronizaci√≥n de configuraciones\n- Exportaci√≥n/importaci√≥n de settings\n- Documentaci√≥n del sistema\n- Capacitaci√≥n y consulta"
                    },
                    "response": []
                },
                {
                    "name": "üöÄ Inicializar configuraci√≥n",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"initializationMode\": \"FULL_LOSNCP\",\n    \"includeTestData\": false,\n    \"configuration\": {\n        \"enableAdvancedFeatures\": true,\n        \"defaultCurrency\": \"USD\",\n        \"defaultLocale\": \"es-EC\",\n        \"timeZone\": \"America/Guayaquil\",\n        \"fiscalYear\": 2025\n    },\n    \"customizations\": {\n        \"institutionName\": \"GADM Cant√≥n Esmeraldas\",\n        \"institutionCode\": \"GADMCE\",\n        \"processNumberFormat\": \"GADMCE-{TYPE}-{SEQUENTIAL}-{YEAR}\",\n        \"enableEnvironmentalValidation\": true,\n        \"defaultBudgetSource\": \"RECURSOS_PROPIOS\"\n    },\n    \"features\": {\n        \"enableDigitalSignatures\": true,\n        \"enableAutomaticNotifications\": true,\n        \"enableAuditTrail\": true,\n        \"enableReporting\": true,\n        \"enableDashboards\": true,\n        \"enableMobileAccess\": false\n    },\n    \"validation\": {\n        \"strictBudgetValidation\": true,\n        \"requireLegalReview\": true,\n        \"enableAntiCorruptionChecks\": true,\n        \"validateProviderRegistry\": true\n    },\n    \"approvals\": [\n        {\n            \"userId\": \"64f7e8b123456789abcdef07\",\n            \"role\": \"SYSTEM_ADMINISTRATOR\",\n            \"approved\": true,\n            \"approvalDate\": \"2025-09-01T18:00:00.000Z\",\n            \"comments\": \"Aprobada inicializaci√≥n completa del sistema seg√∫n especificaciones t√©cnicas\"\n        }\n    ],\n    \"backupExisting\": true,\n    \"confirmationCode\": \"INITIALIZE_CONFIRMED_2025\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/configuration/initialize",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "configuration",
                                "initialize"
                            ]
                        },
                        "description": "**Inicializar configuraci√≥n completa del sistema**\n\n**Permisos requeridos:** `special.canManagePermissions` + confirmaci√≥n administrativa\n\n**‚ö†Ô∏è OPERACI√ìN CR√çTICA**: Configura todo el sistema desde cero\n\n**Modos de inicializaci√≥n:**\n- **FULL_LOSNCP**: Configuraci√≥n completa seg√∫n normativa ecuatoriana\n- **BASIC**: Configuraci√≥n m√≠nima funcional\n- **CUSTOM**: Configuraci√≥n personalizada\n- **MIGRATION**: Migraci√≥n desde sistema anterior\n\n**Elementos que se inicializan:**\n1. **Tipos de contrataci√≥n LOSNCP est√°ndar**\n   - Procedimientos comunes (11 tipos)\n   - Procedimientos especiales (5 tipos)\n   - Rangos de montos por tipo\n   - Marco legal por cada tipo\n\n2. **Fases contractuales est√°ndar**\n   - 5 fases principales LOSNCP\n   - Documentos requeridos por fase\n   - Actividades y responsables\n   - Duraciones est√°ndar\n\n3. **Configuraciones del sistema**\n   - Par√°metros generales\n   - Notificaciones autom√°ticas\n   - Validaciones de negocio\n   - Plantillas de documentos\n\n**Validaciones pre-inicializaci√≥n:**\n- Sistema vac√≠o o autorizaci√≥n de sobrescritura\n- Backup de configuraci√≥n existente\n- Confirmaci√≥n expl√≠cita del administrador\n- Permisos de nivel m√°s alto\n\n**‚ö†Ô∏è PRECAUCI√ìN**: Esta operaci√≥n reemplaza toda la configuraci√≥n existente"
                    },
                    "response": []
                },
                {
                    "name": "‚úÖ Validar configuraci√≥n",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/configuration/validate?level=COMPREHENSIVE&includeRecommendations=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "configuration",
                                "validate"
                            ],
                            "query": [
                                {
                                    "key": "level",
                                    "value": "COMPREHENSIVE",
                                    "description": "Nivel de validaci√≥n: BASIC, STANDARD, COMPREHENSIVE"
                                },
                                {
                                    "key": "includeRecommendations",
                                    "value": "true",
                                    "description": "Incluir recomendaciones de mejora"
                                }
                            ]
                        },
                        "description": "**Validar integridad de la configuraci√≥n del sistema**\n\n**Permisos requeridos:** `contracts.canRead` o `special.canManagePermissions`\n\n**Niveles de validaci√≥n:**\n\n**BASIC:**\n- Existencia de tipos y fases principales\n- Configuraciones m√≠nimas requeridas\n- Integridad de referencias\n\n**STANDARD:**\n- Validaciones BASIC +\n- Rangos de montos l√≥gicos\n- Documentos requeridos definidos\n- Duraciones de fases coherentes\n- Marco legal presente\n\n**COMPREHENSIVE:**\n- Validaciones STANDARD +\n- Consistencia entre tipos y fases\n- Validaci√≥n de plantillas de documentos\n- Verificaci√≥n de roles y permisos\n- An√°lisis de reglas de negocio\n- Compatibilidad con normativa LOSNCP\n\n**Validaciones espec√≠ficas:**\n- ‚úÖ Tipos de contrataci√≥n LOSNCP completos\n- ‚úÖ Fases obligatorias configuradas\n- ‚úÖ Rangos de montos sin solapamientos\n- ‚úÖ Documentos requeridos por fase definidos\n- ‚úÖ Roles de responsables existentes\n- ‚úÖ Plantillas de notificaciones activas\n- ‚úÖ Reglas de transici√≥n v√°lidas\n\n**Resultado incluye:**\n- Estado general de la configuraci√≥n\n- Lista de problemas encontrados (errores/warnings)\n- Recomendaciones de mejora\n- Elementos faltantes o inconsistentes\n- Score de completitud y calidad"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "üìä Estad√≠sticas y Reportes",
            "item": [
                {
                    "name": "üìà Estad√≠sticas de configuraci√≥n",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/configuration/statistics?period=current_year&includeUsageStats=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "configuration",
                                "statistics"
                            ],
                            "query": [
                                {
                                    "key": "period",
                                    "value": "current_year",
                                    "description": "Per√≠odo de an√°lisis: current_month, current_quarter, current_year, all_time"
                                },
                                {
                                    "key": "includeUsageStats",
                                    "value": "true",
                                    "description": "Incluir estad√≠sticas de uso por tipo/fase"
                                }
                            ]
                        },
                        "description": "**Estad√≠sticas de configuraci√≥n y uso del sistema**\n\n**Permisos requeridos:** Acceso b√°sico al m√≥dulo\n\n**M√©tricas de configuraci√≥n:**\n- Total de tipos de contrataci√≥n activos/inactivos\n- Distribuci√≥n por categor√≠as (comunes/especiales)\n- Fases configuradas por tipo\n- Documentos requeridos por fase\n- Completitud de configuraciones\n\n**Estad√≠sticas de uso:**\n- Tipos m√°s utilizados\n- Fases con mayor duraci√≥n promedio\n- Documentos m√°s frecuentemente subidos\n- Eficiencia por tipo de contrataci√≥n\n- Distribuci√≥n de montos por tipo\n\n**An√°lisis temporal:**\n- Evoluci√≥n de uso por per√≠odo\n- Tendencias en tipos de contrataci√≥n\n- Variaciones en duraci√≥n de fases\n- Adopci√≥n de nuevas configuraciones\n\n**Indicadores de calidad:**\n- Porcentaje de cumplimiento de documentaci√≥n\n- Tiempo promedio de transici√≥n entre fases\n- Tasa de √©xito por tipo de contrataci√≥n\n- Satisfacci√≥n con configuraciones actuales"
                    },
                    "response": []
                },
                {
                    "name": "üéØ Fases por tipo de contrato",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/configuration/types/{{type_id}}/phases",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "configuration",
                                "types",
                                "{{type_id}}",
                                "phases"
                            ]
                        },
                        "description": "**Obtener fases requeridas para un tipo espec√≠fico**\n\n**Permisos requeridos:** Acceso b√°sico al m√≥dulo\n\n**Informaci√≥n incluida:**\n- Secuencia de fases obligatorias\n- Fases opcionales disponibles\n- Documentos requeridos por fase\n- Duraci√≥n est√°ndar de cada fase\n- Actividades principales por fase\n- Responsables por defecto\n- Criterios de validaci√≥n\n- Puntos de control obligatorios\n\n**Utilidad:**\n- Planificaci√≥n de cronogramas\n- Preparaci√≥n de documentaci√≥n\n- Asignaci√≥n de responsabilidades\n- Estimaci√≥n de tiempos\n- Capacitaci√≥n de personal\n- Configuraci√≥n de notificaciones"
                    },
                    "response": []
                },
                {
                    "name": "‚öôÔ∏è Actualizar fases por tipo",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{auth_token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"requiredPhases\": [\n        \"PREPARATORIA\",\n        \"PRECONTRACTUAL\",\n        \"CONTRACTUAL\",\n        \"PAGO\",\n        \"RECEPCION\",\n        \"POST_CONTRACTUAL\"\n    ],\n    \"optionalPhases\": [\n        \"GARANTIA_AMPLIADA\"\n    ],\n    \"phaseConfiguration\": {\n        \"PREPARATORIA\": {\n            \"customDuration\": 20,\n            \"additionalDocuments\": [\n                \"ESTUDIO_IMPACTO_SOCIAL\"\n            ],\n            \"specialValidations\": [\n                \"ENVIRONMENTAL_IMPACT_CHECK\"\n            ]\n        },\n        \"POST_CONTRACTUAL\": {\n            \"applicableWhen\": {\n                \"condition\": \"CONTRACT_VALUE_GT_100000\",\n                \"contractTypes\": [\"LICITACION\", \"COTIZACION\"]\n            },\n            \"duration\": 30,\n            \"autoTrigger\": true,\n            \"triggerDelay\": 1\n        }\n    },\n    \"transitionRules\": {\n        \"allowSkipPhases\": [],\n        \"conditionalPhases\": [\n            {\n                \"phaseCode\": \"POST_CONTRACTUAL\",\n                \"condition\": \"CONTRACT_VALUE_GT_100000\",\n                \"required\": false\n            }\n        ]\n    },\n    \"updateReason\": \"Incorporaci√≥n de fase post-contractual para contratos de alto valor y adici√≥n de validaciones ambientales en fase preparatoria\",\n    \"effectiveDate\": \"2025-11-01T00:00:00.000Z\",\n    \"migrationPlan\": {\n        \"affectExistingContracts\": false,\n        \"notifyUsers\": true,\n        \"trainingRequired\": true\n    }\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/exp-digital/contracts/configuration/types/{{type_id}}/phases",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "exp-digital",
                                "contracts",
                                "configuration",
                                "types",
                                "{{type_id}}",
                                "phases"
                            ]
                        },
                        "description": "**Configurar/actualizar fases para un tipo espec√≠fico**\n\n**Permisos requeridos:** `special.canManagePermissions` (solo administradores)\n\n**‚ö†Ô∏è IMPACTO**: Afecta todos los contratos futuros de este tipo\n\n**Configuraciones permitidas:**\n- Agregar fases opcionales\n- Modificar duraciones est√°ndar\n- Agregar documentos adicionales\n- Configurar validaciones especiales\n- Establecer reglas de transici√≥n\n- Definir fases condicionales\n\n**‚ö†Ô∏è RESTRICCIONES**:\n- No se pueden eliminar fases LOSNCP obligatorias\n- Las fases deben mantener orden l√≥gico\n- Duraciones deben ser realistas\n- Documentos adicionales deben ser v√°lidos\n\n**Validaciones autom√°ticas:**\n- Fases obligatorias LOSNCP presentes\n- Secuencia l√≥gica de fases\n- Duraci√≥n total razonable\n- Documentos requeridos disponibles\n- Roles responsables existentes\n\n**Proceso de actualizaci√≥n:**\n1. Validar cambios propuestos\n2. Verificar impacto en contratos activos\n3. Crear plan de migraci√≥n\n4. Notificar a usuarios afectados\n5. Aplicar cambios con fecha efectiva\n6. Capacitar en nuevos procedimientos"
                    },
                    "response": []
                }
            ]
        }
    ],
    "event": [
        {
            "listen": "prerequest",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Auto-generar IDs si no existen",
                    "if (!pm.collectionVariables.get('type_id')) {",
                    "    pm.collectionVariables.set('type_id', '64f7e8b123456789abcdef10');",
                    "}",
                    "",
                    "if (!pm.collectionVariables.get('phase_id')) {",
                    "    pm.collectionVariables.set('phase_id', '64f7e8b123456789abcdef20');",
                    "}",
                    "",
                    "if (!pm.collectionVariables.get('config_id')) {",
                    "    pm.collectionVariables.set('config_id', '64f7e8b123456789abcdef30');",
                    "}",
                    "",
                    "// Validar token de autorizaci√≥n",
                    "const authToken = pm.collectionVariables.get('auth_token') || pm.globals.get('auth_token');",
                    "if (!authToken) {",
                    "    console.log('‚ö†Ô∏è WARNING: No se encontr√≥ token de autorizaci√≥n');",
                    "    console.log('Configura la variable auth_token en Collection o Global variables');",
                    "    console.log('üí° NOTA: Muchos endpoints requieren permisos administrativos');",
                    "}",
                    "",
                    "// Generar c√≥digo de confirmaci√≥n para operaciones cr√≠ticas",
                    "if (pm.request.method === 'POST' && pm.request.url.path.includes('initialize')) {",
                    "    const confirmationCode = 'INITIALIZE_CONFIRMED_' + new Date().getFullYear();",
                    "    pm.collectionVariables.set('confirmation_code', confirmationCode);",
                    "}"
                ]
            }
        },
        {
            "listen": "test",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Tests globales para todas las respuestas",
                    "pm.test('Response time is reasonable', function () {",
                    "    // Operaciones de configuraci√≥n pueden tardar m√°s",
                    "    pm.expect(pm.response.responseTime).to.be.below(15000);",
                    "});",
                    "",
                    "pm.test('Response has correct headers', function () {",
                    "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
                    "});",
                    "",
                    "// Test de estructura de respuesta est√°ndar",
                    "if (pm.response.code >= 200 && pm.response.code < 300) {",
                    "    pm.test('Response has success structure', function () {",
                    "        const responseJson = pm.response.json();",
                    "        pm.expect(responseJson).to.have.property('success');",
                    "        pm.expect(responseJson).to.have.property('data');",
                    "    });",
                    "    ",
                    "    // Test espec√≠fico para respuestas de configuraci√≥n",
                    "    if (pm.response.json().data) {",
                    "        const data = pm.response.json().data;",
                    "        ",
                    "        // Para listas de tipos de contrataci√≥n",
                    "        if (data.contractTypes && Array.isArray(data.contractTypes)) {",
                    "            pm.test('Contract types have required fields', function () {",
                    "                data.contractTypes.forEach(type => {",
                    "                    pm.expect(type).to.have.property('code');",
                    "                    pm.expect(type).to.have.property('name');",
                    "                    pm.expect(type).to.have.property('category');",
                    "                });",
                    "            });",
                    "        }",
                    "        ",
                    "        // Para listas de fases",
                    "        if (data.phases && Array.isArray(data.phases)) {",
                    "            pm.test('Phases have required fields', function () {",
                    "                data.phases.forEach(phase => {",
                    "                    pm.expect(phase).to.have.property('code');",
                    "                    pm.expect(phase).to.have.property('name');",
                    "                    pm.expect(phase).to.have.property('order');",
                    "                });",
                    "            });",
                    "        }",
                    "    }",
                    "}",
                    "",
                    "// Guardar IDs √∫tiles para siguientes requests",
                    "if (pm.response.code === 200 || pm.response.code === 201) {",
                    "    const responseJson = pm.response.json();",
                    "    ",
                    "    // Guardar type_id si se crea o obtiene un tipo",
                    "    if (responseJson.data && responseJson.data._id) {",
                    "        pm.collectionVariables.set('type_id', responseJson.data._id);",
                    "        console.log('‚úÖ Guardado type_id:', responseJson.data._id);",
                    "    }",
                    "    ",
                    "    // Guardar phase_id si se crea o obtiene una fase",
                    "    if (responseJson.data && responseJson.data.code && responseJson.data.order !== undefined) {",
                    "        pm.collectionVariables.set('phase_id', responseJson.data._id);",
                    "        console.log('‚úÖ Guardado phase_id:', responseJson.data._id);",
                    "    }",
                    "    ",
                    "    // Para respuestas de determinaci√≥n autom√°tica por monto",
                    "    if (responseJson.data && responseJson.data.recommendedType) {",
                    "        console.log('üí° Tipo recomendado:', responseJson.data.recommendedType.name);",
                    "        pm.collectionVariables.set('recommended_type', responseJson.data.recommendedType.code);",
                    "    }",
                    "}"
                ]
            }
        }
    ],
    "variable": [
        {
            "key": "base_url",
            "value": "http://localhost:3000",
            "type": "string",
            "description": "URL base del API - Cambiar seg√∫n entorno"
        },
        {
            "key": "auth_token",
            "value": "",
            "type": "string",
            "description": "Token JWT de autenticaci√≥n - Requiere permisos administrativos para la mayor√≠a de endpoints"
        },
        {
            "key": "type_id",
            "value": "64f7e8b123456789abcdef10",
            "type": "string",
            "description": "ID del tipo de contrataci√≥n - Se actualiza autom√°ticamente"
        },
        {
            "key": "phase_id",
            "value": "64f7e8b123456789abcdef20",
            "type": "string",
            "description": "ID de la fase contractual - Se actualiza autom√°ticamente"
        },
        {
            "key": "config_id",
            "value": "64f7e8b123456789abcdef30",
            "type": "string",
            "description": "ID de configuraci√≥n general - Para operaciones espec√≠ficas"
        },
        {
            "key": "recommended_type",
            "value": "",
            "type": "string",
            "description": "Tipo recomendado por el sistema - Se actualiza autom√°ticamente"
        },
        {
            "key": "confirmation_code",
            "value": "",
            "type": "string",
            "description": "C√≥digo de confirmaci√≥n para operaciones cr√≠ticas - Se genera autom√°ticamente"
        }
    ]
}